{
  "_class": "AST_Toplevel",
  "globals": [
    "1000272 require",
    "1000273 describe",
    "1000274 it",
    "1000275 before",
    "1000276 JSON",
    "1000277 Error",
    "1000278 SyntaxError"
  ],
  "variables": [
    "1000001 assert",
    "1000002 Buffer",
    "1000003 http",
    "1000004 request",
    "1000005 bodyParser",
    "1000255 createServer",
    "1000264 parseError",
    "1000268 shouldContainInBody"
  ],
  "functions": [
    "1000255 createServer",
    "1000264 parseError",
    "1000268 shouldContainInBody"
  ],
  "enclosed": [
    "1000272 require",
    "1000273 describe",
    "1000274 it",
    "1000004 request",
    "1000255 createServer",
    "1000005 bodyParser",
    "1000275 before",
    "1000264 parseError",
    "1000002 Buffer",
    "1000276 JSON",
    "1000268 shouldContainInBody",
    "1000277 Error",
    "1000001 assert",
    "1000003 http",
    "1000278 SyntaxError"
  ],
  "body": [
    {
      "_class": "AST_Directive",
      "value": "use strict",
      "quote": "\""
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "assert",
            "thedef": "1000001 assert"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000272 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "assert",
                "quote": "\""
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "Buffer",
            "thedef": "1000002 Buffer"
          },
          "value": {
            "_class": "AST_Dot",
            "expression": {
              "_class": "AST_Call",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "require",
                "thedef": "1000272 require"
              },
              "args": [
                {
                  "_class": "AST_String",
                  "value": "safe-buffer",
                  "quote": "\""
                }
              ]
            },
            "property": "Buffer"
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "http",
            "thedef": "1000003 http"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000272 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "http",
                "quote": "\""
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "request",
            "thedef": "1000004 request"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000272 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "supertest",
                "quote": "\""
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "bodyParser",
            "thedef": "1000005 bodyParser"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000272 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "..",
                "quote": "\""
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_SimpleStatement",
      "body": {
        "_class": "AST_Call",
        "expression": {
          "_class": "AST_SymbolRef",
          "name": "describe",
          "thedef": "1000273 describe"
        },
        "args": [
          {
            "_class": "AST_String",
            "value": "bodyParser.json()",
            "quote": "\""
          },
          {
            "_class": "AST_Function",
            "name": null,
            "argnames": [],
            "uses_arguments": false,
            "variables": [
              "1000006 arguments"
            ],
            "enclosed": [
              "1000274 it",
              "1000004 request",
              "1000255 createServer",
              "1000005 bodyParser",
              "1000273 describe",
              "1000275 before",
              "1000264 parseError",
              "1000002 Buffer",
              "1000276 JSON",
              "1000268 shouldContainInBody",
              "1000277 Error",
              "1000001 assert"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should parse JSON",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000008 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000007 arguments",
                        "1000008 e"
                      ],
                      "enclosed": [
                        "1000004 request",
                        "1000255 createServer",
                        "1000008 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "createServer",
                                                  "thedef": "1000255 createServer"
                                                },
                                                "args": []
                                              }
                                            ]
                                          },
                                          "property": "post"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "send"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "{\"user\":\"tobi\"}",
                                    "quote": "'"
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 200
                              },
                              {
                                "_class": "AST_String",
                                "value": "{\"user\":\"tobi\"}",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000008 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should handle Content-Length: 0",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000010 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000009 arguments",
                        "1000010 e"
                      ],
                      "enclosed": [
                        "1000004 request",
                        "1000255 createServer",
                        "1000010 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "createServer",
                                                  "thedef": "1000255 createServer"
                                                },
                                                "args": []
                                              }
                                            ]
                                          },
                                          "property": "get"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "set"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "Content-Length",
                                    "quote": "\""
                                  },
                                  {
                                    "_class": "AST_String",
                                    "value": "0",
                                    "quote": "\""
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 200
                              },
                              {
                                "_class": "AST_String",
                                "value": "{}",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000010 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should handle empty message-body",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000012 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000011 arguments",
                        "1000012 e"
                      ],
                      "enclosed": [
                        "1000004 request",
                        "1000255 createServer",
                        "1000012 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "createServer",
                                                  "thedef": "1000255 createServer"
                                                },
                                                "args": []
                                              }
                                            ]
                                          },
                                          "property": "get"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "set"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "Transfer-Encoding",
                                    "quote": "\""
                                  },
                                  {
                                    "_class": "AST_String",
                                    "value": "chunked",
                                    "quote": "\""
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 200
                              },
                              {
                                "_class": "AST_String",
                                "value": "{}",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000012 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should handle no message-body",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000014 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000013 arguments",
                        "1000014 e"
                      ],
                      "enclosed": [
                        "1000004 request",
                        "1000255 createServer",
                        "1000014 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "createServer",
                                                  "thedef": "1000255 createServer"
                                                },
                                                "args": []
                                              }
                                            ]
                                          },
                                          "property": "get"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "unset"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "Transfer-Encoding",
                                    "quote": "\""
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 200
                              },
                              {
                                "_class": "AST_String",
                                "value": "{}",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000014 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should 400 when invalid content-length",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000016 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000015 arguments",
                        "1000016 e",
                        "1000017 n",
                        "1000018 t"
                      ],
                      "enclosed": [
                        "1000005 bodyParser",
                        "1000255 createServer",
                        "1000017 n",
                        "1000004 request",
                        "1000018 t",
                        "1000016 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "n",
                                "thedef": "1000017 n"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "bodyParser",
                                    "thedef": "1000005 bodyParser"
                                  },
                                  "property": "json"
                                },
                                "args": []
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "t",
                                "thedef": "1000018 t"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_SymbolRef",
                                  "name": "createServer",
                                  "thedef": "1000255 createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "e",
                                        "thedef": "1000020 e"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "t",
                                        "thedef": "1000021 t"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "r",
                                        "thedef": "1000022 r"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000019 arguments",
                                      "1000020 e",
                                      "1000021 t",
                                      "1000022 r"
                                    ],
                                    "enclosed": [
                                      "1000020 e",
                                      "1000017 n",
                                      "1000021 t",
                                      "1000022 r"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Assign",
                                          "operator": "=",
                                          "left": {
                                            "_class": "AST_Sub",
                                            "expression": {
                                              "_class": "AST_Dot",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "e",
                                                "thedef": "1000020 e"
                                              },
                                              "property": "headers"
                                            },
                                            "property": {
                                              "_class": "AST_String",
                                              "value": "content-length",
                                              "quote": "\""
                                            }
                                          },
                                          "right": {
                                            "_class": "AST_String",
                                            "value": "20",
                                            "quote": "\""
                                          }
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "n",
                                            "thedef": "1000017 n"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "e",
                                              "thedef": "1000020 e"
                                            },
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "t",
                                              "thedef": "1000021 t"
                                            },
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "r",
                                              "thedef": "1000022 r"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_SymbolRef",
                                                "name": "t",
                                                "thedef": "1000018 t"
                                              }
                                            ]
                                          },
                                          "property": "post"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "send"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "{\"str\":",
                                    "quote": "'"
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 400
                              },
                              {
                                "_class": "AST_RegExp",
                                "value": {
                                  "raw_source": "content length"
                                }
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000016 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000274 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should handle duplicated middleware",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "e",
                          "thedef": "1000024 e"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000023 arguments",
                        "1000024 e",
                        "1000025 o",
                        "1000026 t"
                      ],
                      "enclosed": [
                        "1000005 bodyParser",
                        "1000255 createServer",
                        "1000025 o",
                        "1000004 request",
                        "1000026 t",
                        "1000024 e"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "o",
                                "thedef": "1000025 o"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "bodyParser",
                                    "thedef": "1000005 bodyParser"
                                  },
                                  "property": "json"
                                },
                                "args": []
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "t",
                                "thedef": "1000026 t"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_SymbolRef",
                                  "name": "createServer",
                                  "thedef": "1000255 createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "t",
                                        "thedef": "1000028 t"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "r",
                                        "thedef": "1000029 r"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "n",
                                        "thedef": "1000030 n"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000027 arguments",
                                      "1000028 t",
                                      "1000029 r",
                                      "1000030 n"
                                    ],
                                    "enclosed": [
                                      "1000025 o",
                                      "1000028 t",
                                      "1000029 r",
                                      "1000030 n"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "o",
                                            "thedef": "1000025 o"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "t",
                                              "thedef": "1000028 t"
                                            },
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "r",
                                              "thedef": "1000029 r"
                                            },
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "e",
                                                  "thedef": "1000032 e"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000031 arguments",
                                                "1000032 e"
                                              ],
                                              "enclosed": [
                                                "1000032 e",
                                                "1000030 n",
                                                "1000025 o",
                                                "1000028 t",
                                                "1000029 r"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_If",
                                                  "condition": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000032 e"
                                                  },
                                                  "alternative": null,
                                                  "body": {
                                                    "_class": "AST_Return",
                                                    "value": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "n",
                                                        "thedef": "1000030 n"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "e",
                                                          "thedef": "1000032 e"
                                                        }
                                                      ]
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "o",
                                                      "thedef": "1000025 o"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "t",
                                                        "thedef": "1000028 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "r",
                                                        "thedef": "1000029 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "n",
                                                        "thedef": "1000030 n"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_Call",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "request",
                                              "thedef": "1000004 request"
                                            },
                                            "args": [
                                              {
                                                "_class": "AST_SymbolRef",
                                                "name": "t",
                                                "thedef": "1000026 t"
                                              }
                                            ]
                                          },
                                          "property": "post"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_String",
                                            "value": "/",
                                            "quote": "\""
                                          }
                                        ]
                                      },
                                      "property": "set"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_String",
                                        "value": "Content-Type",
                                        "quote": "\""
                                      },
                                      {
                                        "_class": "AST_String",
                                        "value": "application/json",
                                        "quote": "\""
                                      }
                                    ]
                                  },
                                  "property": "send"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "{\"user\":\"tobi\"}",
                                    "quote": "'"
                                  }
                                ]
                              },
                              "property": "expect"
                            },
                            "args": [
                              {
                                "_class": "AST_Number",
                                "value": 200
                              },
                              {
                                "_class": "AST_String",
                                "value": "{\"user\":\"tobi\"}",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000024 e"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when JSON is invalid",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000033 arguments"
                      ],
                      "enclosed": [
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000264 parseError"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "before",
                              "thedef": "1000275 before"
                            },
                            "args": [
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000034 arguments"
                                ],
                                "enclosed": [
                                  "1000255 createServer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_This",
                                          "name": "this"
                                        },
                                        "property": "server"
                                      },
                                      "right": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "createServer",
                                          "thedef": "1000255 createServer"
                                        },
                                        "args": []
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 400 for bad token",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000036 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000035 arguments",
                                  "1000036 e"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000264 parseError",
                                  "1000036 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "server"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "{:",
                                              "quote": "\""
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "parseError",
                                            "thedef": "1000264 parseError"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "{:",
                                              "quote": "\""
                                            }
                                          ]
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000036 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 400 for incomplete",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000038 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000037 arguments",
                                  "1000038 e"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000264 parseError",
                                  "1000038 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "server"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "{\"user\"",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "parseError",
                                            "thedef": "1000264 parseError"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "{\"user\"",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000038 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error with type = \"entity.parse.failed\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000040 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000039 arguments",
                                  "1000040 e"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000040 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              "property": "server"
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "type",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": " {\"user\"",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "entity.parse.failed",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000040 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include original body on error object",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000042 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000041 arguments",
                                  "1000042 e"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000042 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              "property": "server"
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "body",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": " {\"user\"",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": " {\"user\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000042 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "with limit option",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000043 arguments"
                      ],
                      "enclosed": [
                        "1000274 it",
                        "1000002 Buffer",
                        "1000004 request",
                        "1000255 createServer",
                        "1000276 JSON"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 413 when over limit with Content-Length",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000045 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000044 arguments",
                                  "1000045 e",
                                  "1000046 t"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000004 request",
                                  "1000255 createServer",
                                  "1000276 JSON",
                                  "1000046 t",
                                  "1000045 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000046 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 1024
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "createServer",
                                                                "thedef": "1000255 createServer"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Object",
                                                                  "properties": [
                                                                    {
                                                                      "_class": "AST_ObjectKeyVal",
                                                                      "key": "limit",
                                                                      "value": {
                                                                        "_class": "AST_String",
                                                                        "value": "1kb",
                                                                        "quote": "\""
                                                                      }
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Length",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "1034",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "JSON",
                                                  "thedef": "1000276 JSON"
                                                },
                                                "property": "stringify"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Object",
                                                  "properties": [
                                                    {
                                                      "_class": "AST_ObjectKeyVal",
                                                      "key": "str",
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000046 t"
                                                          },
                                                          "property": "toString"
                                                        },
                                                        "args": []
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000045 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error with type = \"entity.too.large\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000048 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000047 arguments",
                                  "1000048 e",
                                  "1000049 t"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000004 request",
                                  "1000255 createServer",
                                  "1000276 JSON",
                                  "1000049 t",
                                  "1000048 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000049 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 1024
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "request",
                                                                "thedef": "1000004 request"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "createServer",
                                                                    "thedef": "1000255 createServer"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_Object",
                                                                      "properties": [
                                                                        {
                                                                          "_class": "AST_ObjectKeyVal",
                                                                          "key": "limit",
                                                                          "value": {
                                                                            "_class": "AST_String",
                                                                            "value": "1kb",
                                                                            "quote": "\""
                                                                          }
                                                                        }
                                                                      ]
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            },
                                                            "property": "post"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "/",
                                                              "quote": "\""
                                                            }
                                                          ]
                                                        },
                                                        "property": "set"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "Content-Type",
                                                          "quote": "\""
                                                        },
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "application/json",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Length",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "1034",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "type",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "JSON",
                                                  "thedef": "1000276 JSON"
                                                },
                                                "property": "stringify"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Object",
                                                  "properties": [
                                                    {
                                                      "_class": "AST_ObjectKeyVal",
                                                      "key": "str",
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000049 t"
                                                          },
                                                          "property": "toString"
                                                        },
                                                        "args": []
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "entity.too.large",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000048 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 413 when over limit with chunked encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000051 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000050 arguments",
                                  "1000051 e",
                                  "1000052 t",
                                  "1000053 r",
                                  "1000054 n"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000255 createServer",
                                  "1000004 request",
                                  "1000053 r",
                                  "1000054 n",
                                  "1000052 t",
                                  "1000051 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000052 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 1024
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "r",
                                          "thedef": "1000053 r"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "limit",
                                                  "value": {
                                                    "_class": "AST_String",
                                                    "value": "1kb",
                                                    "quote": "\""
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "r",
                                                  "thedef": "1000053 r"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Transfer-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "chunked",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"str\":",
                                          "quote": "'"
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Binary",
                                          "operator": "+",
                                          "left": {
                                            "_class": "AST_Binary",
                                            "operator": "+",
                                            "left": {
                                              "_class": "AST_String",
                                              "value": "\"",
                                              "quote": "'"
                                            },
                                            "right": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "t",
                                                  "thedef": "1000052 t"
                                                },
                                                "property": "toString"
                                              },
                                              "args": []
                                            }
                                          },
                                          "right": {
                                            "_class": "AST_String",
                                            "value": "\"}",
                                            "quote": "'"
                                          }
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000054 n"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000051 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should accept number of bytes",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000056 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000055 arguments",
                                  "1000056 e",
                                  "1000057 t"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000004 request",
                                  "1000255 createServer",
                                  "1000276 JSON",
                                  "1000057 t",
                                  "1000056 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000057 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 1024
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "createServer",
                                                            "thedef": "1000255 createServer"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Object",
                                                              "properties": [
                                                                {
                                                                  "_class": "AST_ObjectKeyVal",
                                                                  "key": "limit",
                                                                  "value": {
                                                                    "_class": "AST_Number",
                                                                    "value": 1024
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "JSON",
                                                  "thedef": "1000276 JSON"
                                                },
                                                "property": "stringify"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Object",
                                                  "properties": [
                                                    {
                                                      "_class": "AST_ObjectKeyVal",
                                                      "key": "str",
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000057 t"
                                                          },
                                                          "property": "toString"
                                                        },
                                                        "args": []
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000056 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should not change when options altered",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000059 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000058 arguments",
                                  "1000059 e",
                                  "1000060 t",
                                  "1000061 r",
                                  "1000062 n"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000255 createServer",
                                  "1000061 r",
                                  "1000004 request",
                                  "1000062 n",
                                  "1000276 JSON",
                                  "1000060 t",
                                  "1000059 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000060 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 1024
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "r",
                                          "thedef": "1000061 r"
                                        },
                                        "value": {
                                          "_class": "AST_Object",
                                          "properties": [
                                            {
                                              "_class": "AST_ObjectKeyVal",
                                              "key": "limit",
                                              "value": {
                                                "_class": "AST_String",
                                                "value": "1kb",
                                                "quote": "\""
                                              }
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "n",
                                          "thedef": "1000062 n"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "r",
                                              "thedef": "1000061 r"
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000061 r"
                                        },
                                        "property": "limit"
                                      },
                                      "right": {
                                        "_class": "AST_String",
                                        "value": "100kb",
                                        "quote": "\""
                                      }
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "n",
                                                          "thedef": "1000062 n"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "JSON",
                                                  "thedef": "1000276 JSON"
                                                },
                                                "property": "stringify"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Object",
                                                  "properties": [
                                                    {
                                                      "_class": "AST_ObjectKeyVal",
                                                      "key": "str",
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000060 t"
                                                          },
                                                          "property": "toString"
                                                        },
                                                        "args": []
                                                      }
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000059 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should not hang response",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000064 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000063 arguments",
                                  "1000064 e",
                                  "1000065 t",
                                  "1000066 r",
                                  "1000067 n"
                                ],
                                "enclosed": [
                                  "1000002 Buffer",
                                  "1000255 createServer",
                                  "1000004 request",
                                  "1000066 r",
                                  "1000067 n",
                                  "1000065 t",
                                  "1000064 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000065 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "alloc"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Number",
                                              "value": 10240
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": ".",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "r",
                                          "thedef": "1000066 r"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "limit",
                                                  "value": {
                                                    "_class": "AST_String",
                                                    "value": "8kb",
                                                    "quote": "\""
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "r",
                                                  "thedef": "1000066 r"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000065 t"
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000065 t"
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000065 t"
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "n",
                                          "thedef": "1000067 n"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000064 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "with inflate option",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000068 arguments"
                      ],
                      "enclosed": [
                        "1000273 describe",
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000002 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when false",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000069 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request",
                                  "1000002 Buffer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000070 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "inflate",
                                                          "value": {
                                                            "_class": "AST_False"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should not accept content-encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000072 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000071 arguments",
                                            "1000072 e",
                                            "1000073 t"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000073 t",
                                            "1000002 Buffer",
                                            "1000072 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "t",
                                                    "thedef": "1000073 t"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "request",
                                                          "thedef": "1000004 request"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_This",
                                                              "name": "this"
                                                            },
                                                            "property": "server"
                                                          }
                                                        ]
                                                      },
                                                      "property": "post"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "/",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000073 t"
                                                  },
                                                  "property": "set"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Content-Encoding",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "gzip",
                                                    "quote": "\""
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000073 t"
                                                  },
                                                  "property": "set"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Content-Type",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "application/json",
                                                    "quote": "\""
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000073 t"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "Buffer",
                                                        "thedef": "1000002 Buffer"
                                                      },
                                                      "property": "from"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "1f8b080000000000000bab56ca4bcc4d55b2527ab16e97522d00515be1cc0e000000",
                                                        "quote": "\""
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "hex",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000073 t"
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 415
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "content encoding unsupported",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000072 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when true",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000074 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request",
                                  "1000002 Buffer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000075 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "inflate",
                                                          "value": {
                                                            "_class": "AST_True"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should accept content-encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000077 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000076 arguments",
                                            "1000077 e",
                                            "1000078 t"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000078 t",
                                            "1000002 Buffer",
                                            "1000077 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "t",
                                                    "thedef": "1000078 t"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "request",
                                                          "thedef": "1000004 request"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_This",
                                                              "name": "this"
                                                            },
                                                            "property": "server"
                                                          }
                                                        ]
                                                      },
                                                      "property": "post"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "/",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000078 t"
                                                  },
                                                  "property": "set"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Content-Encoding",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "gzip",
                                                    "quote": "\""
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000078 t"
                                                  },
                                                  "property": "set"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Content-Type",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "application/json",
                                                    "quote": "\""
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000078 t"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "Buffer",
                                                        "thedef": "1000002 Buffer"
                                                      },
                                                      "property": "from"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "1f8b080000000000000bab56ca4bcc4d55b2527ab16e97522d00515be1cc0e000000",
                                                        "quote": "\""
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "hex",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "t",
                                                    "thedef": "1000078 t"
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"name\":\"论\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000077 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "with strict option",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000079 arguments"
                      ],
                      "enclosed": [
                        "1000273 describe",
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000264 parseError",
                        "1000268 shouldContainInBody"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when undefined",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000080 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request",
                                  "1000264 parseError"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000081 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": []
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should 400 on primitives",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000083 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000082 arguments",
                                            "1000083 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000264 parseError",
                                            "1000083 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "true",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 400
                                                  },
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "parseError",
                                                          "thedef": "1000264 parseError"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "#rue",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "replace"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "#",
                                                        "quote": "\""
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "t",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000083 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when false",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000084 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000085 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "strict",
                                                          "value": {
                                                            "_class": "AST_False"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should parse primitives",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000087 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000086 arguments",
                                            "1000087 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000087 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "true",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "true",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000087 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when true",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000088 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request",
                                  "1000264 parseError",
                                  "1000268 shouldContainInBody"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000089 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "strict",
                                                          "value": {
                                                            "_class": "AST_True"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should not parse primitives",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000091 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000090 arguments",
                                            "1000091 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000264 parseError",
                                            "1000091 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "true",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 400
                                                  },
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "parseError",
                                                          "thedef": "1000264 parseError"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "#rue",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "replace"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "#",
                                                        "quote": "\""
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "t",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000091 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should not parse primitives with leading whitespaces",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000093 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000092 arguments",
                                            "1000093 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000264 parseError",
                                            "1000093 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "    true",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 400
                                                  },
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "parseError",
                                                          "thedef": "1000264 parseError"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "    #rue",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "replace"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "#",
                                                        "quote": "\""
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "t",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000093 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should allow leading whitespaces in JSON",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000095 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000094 arguments",
                                            "1000095 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000095 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "   { \"user\": \"tobi\" }",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000095 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should error with type = \"entity.parse.failed\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000097 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000096 arguments",
                                            "1000097 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000097 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "request",
                                                                      "thedef": "1000004 request"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Dot",
                                                                        "expression": {
                                                                          "_class": "AST_This",
                                                                          "name": "this"
                                                                        },
                                                                        "property": "server"
                                                                      }
                                                                    ]
                                                                  },
                                                                  "property": "post"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_String",
                                                                    "value": "/",
                                                                    "quote": "\""
                                                                  }
                                                                ]
                                                              },
                                                              "property": "set"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "Content-Type",
                                                                "quote": "\""
                                                              },
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "application/json",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "X-Error-Property",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "type",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "true",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 400
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "entity.parse.failed",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000097 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should include correct message in stack trace",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000099 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000098 arguments",
                                            "1000099 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000268 shouldContainInBody",
                                            "1000264 parseError",
                                            "1000099 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_Call",
                                                                            "expression": {
                                                                              "_class": "AST_SymbolRef",
                                                                              "name": "request",
                                                                              "thedef": "1000004 request"
                                                                            },
                                                                            "args": [
                                                                              {
                                                                                "_class": "AST_Dot",
                                                                                "expression": {
                                                                                  "_class": "AST_This",
                                                                                  "name": "this"
                                                                                },
                                                                                "property": "server"
                                                                              }
                                                                            ]
                                                                          },
                                                                          "property": "post"
                                                                        },
                                                                        "args": [
                                                                          {
                                                                            "_class": "AST_String",
                                                                            "value": "/",
                                                                            "quote": "\""
                                                                          }
                                                                        ]
                                                                      },
                                                                      "property": "set"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "Content-Type",
                                                                        "quote": "\""
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "application/json",
                                                                        "quote": "\""
                                                                      }
                                                                    ]
                                                                  },
                                                                  "property": "set"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_String",
                                                                    "value": "X-Error-Property",
                                                                    "quote": "\""
                                                                  },
                                                                  {
                                                                    "_class": "AST_String",
                                                                    "value": "stack",
                                                                    "quote": "\""
                                                                  }
                                                                ]
                                                              },
                                                              "property": "send"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "true",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "expect"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Number",
                                                            "value": 400
                                                          }
                                                        ]
                                                      },
                                                      "property": "expect"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "shouldContainInBody",
                                                          "thedef": "1000268 shouldContainInBody"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "parseError",
                                                                  "thedef": "1000264 parseError"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_String",
                                                                    "value": "#rue",
                                                                    "quote": "\""
                                                                  }
                                                                ]
                                                              },
                                                              "property": "replace"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "#",
                                                                "quote": "\""
                                                              },
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "t",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000099 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "with type option",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000100 arguments"
                      ],
                      "enclosed": [
                        "1000273 describe",
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000277 Error"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when \"application/vnd.api+json\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000101 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000102 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "type",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "application/vnd.api+json",
                                                            "quote": "\""
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should parse JSON for custom type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000104 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000103 arguments",
                                            "1000104 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000104 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/vnd.api+json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000104 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should ignore standard type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000106 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000105 arguments",
                                            "1000106 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000106 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{}",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000106 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when [\"application/json\", \"application/vnd.api+json\"]",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000107 arguments"
                                ],
                                "enclosed": [
                                  "1000275 before",
                                  "1000255 createServer",
                                  "1000274 it",
                                  "1000004 request"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "before",
                                        "thedef": "1000275 before"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000108 arguments"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "createServer",
                                                    "thedef": "1000255 createServer"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "type",
                                                          "value": {
                                                            "_class": "AST_Array",
                                                            "elements": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "application/json",
                                                                "quote": "\""
                                                              },
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "application/vnd.api+json",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should parse JSON for \"application/json\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000110 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000109 arguments",
                                            "1000110 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000110 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000110 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should parse JSON for \"application/vnd.api+json\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000112 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000111 arguments",
                                            "1000112 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000112 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/vnd.api+json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000112 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should ignore \"application/x-json\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000114 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000113 arguments",
                                            "1000114 e"
                                          ],
                                          "enclosed": [
                                            "1000004 request",
                                            "1000114 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_This",
                                                                      "name": "this"
                                                                    },
                                                                    "property": "server"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/x-json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{}",
                                                    "quote": "\""
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000114 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "describe",
                              "thedef": "1000273 describe"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "when a function",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000115 arguments"
                                ],
                                "enclosed": [
                                  "1000274 it",
                                  "1000255 createServer",
                                  "1000004 request",
                                  "1000277 Error"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should parse when truthy value returned",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000117 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000116 arguments",
                                            "1000117 e",
                                            "1000118 t",
                                            "1000120 r"
                                          ],
                                          "functions": [
                                            "1000120 r"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer",
                                            "1000120 r",
                                            "1000004 request",
                                            "1000118 t",
                                            "1000117 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "t",
                                                    "thedef": "1000118 t"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "createServer",
                                                      "thedef": "1000255 createServer"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Object",
                                                        "properties": [
                                                          {
                                                            "_class": "AST_ObjectKeyVal",
                                                            "key": "type",
                                                            "value": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "r",
                                                              "thedef": "1000120 r"
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_Defun",
                                              "name": {
                                                "_class": "AST_SymbolDefun",
                                                "name": "r",
                                                "thedef": "1000120 r"
                                              },
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "e",
                                                  "thedef": "1000121 e"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000119 arguments",
                                                "1000121 e"
                                              ],
                                              "enclosed": [
                                                "1000121 e"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Return",
                                                  "value": {
                                                    "_class": "AST_Binary",
                                                    "operator": "===",
                                                    "left": {
                                                      "_class": "AST_Sub",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "e",
                                                          "thedef": "1000121 e"
                                                        },
                                                        "property": "headers"
                                                      },
                                                      "property": {
                                                        "_class": "AST_String",
                                                        "value": "content-type",
                                                        "quote": "\""
                                                      }
                                                    },
                                                    "right": {
                                                      "_class": "AST_String",
                                                      "value": "application/vnd.api+json",
                                                      "quote": "\""
                                                    }
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "request",
                                                                  "thedef": "1000004 request"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "t",
                                                                    "thedef": "1000118 t"
                                                                  }
                                                                ]
                                                              },
                                                              "property": "post"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "/",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          },
                                                          "property": "set"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "Content-Type",
                                                            "quote": "\""
                                                          },
                                                          {
                                                            "_class": "AST_String",
                                                            "value": "application/vnd.api+json",
                                                            "quote": "\""
                                                          }
                                                        ]
                                                      },
                                                      "property": "send"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "{\"user\":\"tobi\"}",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000117 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should work without content-type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000123 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000122 arguments",
                                            "1000123 e",
                                            "1000124 t",
                                            "1000126 r",
                                            "1000128 n"
                                          ],
                                          "functions": [
                                            "1000126 r"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer",
                                            "1000126 r",
                                            "1000004 request",
                                            "1000124 t",
                                            "1000128 n",
                                            "1000123 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "t",
                                                    "thedef": "1000124 t"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "createServer",
                                                      "thedef": "1000255 createServer"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Object",
                                                        "properties": [
                                                          {
                                                            "_class": "AST_ObjectKeyVal",
                                                            "key": "type",
                                                            "value": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "r",
                                                              "thedef": "1000126 r"
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_Defun",
                                              "name": {
                                                "_class": "AST_SymbolDefun",
                                                "name": "r",
                                                "thedef": "1000126 r"
                                              },
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "e",
                                                  "thedef": "1000127 e"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000125 arguments",
                                                "1000127 e"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Return",
                                                  "value": {
                                                    "_class": "AST_True"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "n",
                                                    "thedef": "1000128 n"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "request",
                                                          "thedef": "1000004 request"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000124 t"
                                                          }
                                                        ]
                                                      },
                                                      "property": "post"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "/",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "n",
                                                    "thedef": "1000128 n"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "n",
                                                    "thedef": "1000128 n"
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "{\"user\":\"tobi\"}",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000123 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "it",
                                        "thedef": "1000274 it"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "should not invoke without a body",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "e",
                                              "thedef": "1000130 e"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000129 arguments",
                                            "1000130 e",
                                            "1000131 t",
                                            "1000133 r"
                                          ],
                                          "functions": [
                                            "1000133 r"
                                          ],
                                          "enclosed": [
                                            "1000255 createServer",
                                            "1000133 r",
                                            "1000277 Error",
                                            "1000004 request",
                                            "1000131 t",
                                            "1000130 e"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "t",
                                                    "thedef": "1000131 t"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "createServer",
                                                      "thedef": "1000255 createServer"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Object",
                                                        "properties": [
                                                          {
                                                            "_class": "AST_ObjectKeyVal",
                                                            "key": "type",
                                                            "value": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "r",
                                                              "thedef": "1000133 r"
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_Defun",
                                              "name": {
                                                "_class": "AST_SymbolDefun",
                                                "name": "r",
                                                "thedef": "1000133 r"
                                              },
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "e",
                                                  "thedef": "1000134 e"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000132 arguments",
                                                "1000134 e"
                                              ],
                                              "enclosed": [
                                                "1000277 Error"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Throw",
                                                  "value": {
                                                    "_class": "AST_New",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "Error",
                                                      "thedef": "1000277 Error"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "oops!",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "request",
                                                          "thedef": "1000004 request"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "t",
                                                            "thedef": "1000131 t"
                                                          }
                                                        ]
                                                      },
                                                      "property": "get"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "/",
                                                        "quote": "\""
                                                      }
                                                    ]
                                                  },
                                                  "property": "expect"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 200
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "e",
                                                    "thedef": "1000130 e"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "with verify option",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000135 arguments"
                      ],
                      "enclosed": [
                        "1000274 it",
                        "1000001 assert",
                        "1000255 createServer",
                        "1000277 Error",
                        "1000004 request",
                        "1000002 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should assert value if function",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000136 arguments"
                                ],
                                "enclosed": [
                                  "1000001 assert",
                                  "1000255 createServer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "assert",
                                          "thedef": "1000001 assert"
                                        },
                                        "property": "throws"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "createServer",
                                              "thedef": "1000255 createServer"
                                            },
                                            "property": "bind"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Null"
                                            },
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_String",
                                                    "value": "lol",
                                                    "quote": "\""
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "_class": "AST_RegExp",
                                          "value": {
                                            "raw_source": "TypeError: option verify must be function"
                                          }
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error from verify",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000138 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000137 arguments",
                                  "1000138 e",
                                  "1000139 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000139 t",
                                  "1000138 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000139 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000141 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000142 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000143 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000144 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000140 arguments",
                                                      "1000141 e",
                                                      "1000142 t",
                                                      "1000143 r",
                                                      "1000144 n"
                                                    ],
                                                    "functions": [
                                                      "1000141 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000144 n",
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "===",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000144 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Throw",
                                                          "value": {
                                                            "_class": "AST_New",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "Error",
                                                              "thedef": "1000277 Error"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "no arrays",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "t",
                                                          "thedef": "1000139 t"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "[\"tobi\"]",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 403
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "no arrays",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000138 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error with type = \"entity.verify.failed\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000146 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000145 arguments",
                                  "1000146 e",
                                  "1000147 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000147 t",
                                  "1000146 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000147 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000149 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000150 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000151 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000152 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000148 arguments",
                                                      "1000149 e",
                                                      "1000150 t",
                                                      "1000151 r",
                                                      "1000152 n"
                                                    ],
                                                    "functions": [
                                                      "1000149 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000152 n",
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "===",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000152 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Throw",
                                                          "value": {
                                                            "_class": "AST_New",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "Error",
                                                              "thedef": "1000277 Error"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "no arrays",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "t",
                                                              "thedef": "1000147 t"
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "type",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "[\"tobi\"]",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 403
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "entity.verify.failed",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000146 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should allow custom codes",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000154 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000153 arguments",
                                  "1000154 e",
                                  "1000155 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000155 t",
                                  "1000154 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000155 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000157 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000158 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000159 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000160 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000156 arguments",
                                                      "1000157 e",
                                                      "1000158 t",
                                                      "1000159 r",
                                                      "1000160 n",
                                                      "1000161 o"
                                                    ],
                                                    "functions": [
                                                      "1000157 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000160 n",
                                                      "1000277 Error",
                                                      "1000161 o"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "!==",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000160 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Return",
                                                          "value": null
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_Var",
                                                        "definitions": [
                                                          {
                                                            "_class": "AST_VarDef",
                                                            "name": {
                                                              "_class": "AST_SymbolVar",
                                                              "name": "o",
                                                              "thedef": "1000161 o"
                                                            },
                                                            "value": {
                                                              "_class": "AST_New",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "Error",
                                                                "thedef": "1000277 Error"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_String",
                                                                  "value": "no arrays",
                                                                  "quote": "\""
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Assign",
                                                          "operator": "=",
                                                          "left": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "o",
                                                              "thedef": "1000161 o"
                                                            },
                                                            "property": "status"
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 400
                                                          }
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_Throw",
                                                        "value": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "o",
                                                          "thedef": "1000161 o"
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "t",
                                                          "thedef": "1000155 t"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "[\"tobi\"]",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "no arrays",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000154 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should allow custom type",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000163 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000162 arguments",
                                  "1000163 e",
                                  "1000164 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000164 t",
                                  "1000163 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000164 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000166 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000167 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000168 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000169 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000165 arguments",
                                                      "1000166 e",
                                                      "1000167 t",
                                                      "1000168 r",
                                                      "1000169 n",
                                                      "1000170 o"
                                                    ],
                                                    "functions": [
                                                      "1000166 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000169 n",
                                                      "1000277 Error",
                                                      "1000170 o"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "!==",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000169 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Return",
                                                          "value": null
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_Var",
                                                        "definitions": [
                                                          {
                                                            "_class": "AST_VarDef",
                                                            "name": {
                                                              "_class": "AST_SymbolVar",
                                                              "name": "o",
                                                              "thedef": "1000170 o"
                                                            },
                                                            "value": {
                                                              "_class": "AST_New",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "Error",
                                                                "thedef": "1000277 Error"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_String",
                                                                  "value": "no arrays",
                                                                  "quote": "\""
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Assign",
                                                          "operator": "=",
                                                          "left": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "o",
                                                              "thedef": "1000170 o"
                                                            },
                                                            "property": "type"
                                                          },
                                                          "right": {
                                                            "_class": "AST_String",
                                                            "value": "foo.bar",
                                                            "quote": "\""
                                                          }
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_Throw",
                                                        "value": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "o",
                                                          "thedef": "1000170 o"
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "t",
                                                              "thedef": "1000164 t"
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "type",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "[\"tobi\"]",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 403
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "foo.bar",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000163 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include original body on error object",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000172 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000171 arguments",
                                  "1000172 e",
                                  "1000173 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000173 t",
                                  "1000172 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000173 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000175 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000176 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000177 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000178 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000174 arguments",
                                                      "1000175 e",
                                                      "1000176 t",
                                                      "1000177 r",
                                                      "1000178 n"
                                                    ],
                                                    "functions": [
                                                      "1000175 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000178 n",
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "===",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000178 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Throw",
                                                          "value": {
                                                            "_class": "AST_New",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "Error",
                                                              "thedef": "1000277 Error"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "no arrays",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "request",
                                                            "thedef": "1000004 request"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "t",
                                                              "thedef": "1000173 t"
                                                            }
                                                          ]
                                                        },
                                                        "property": "post"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_String",
                                                          "value": "/",
                                                          "quote": "\""
                                                        }
                                                      ]
                                                    },
                                                    "property": "set"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "Content-Type",
                                                      "quote": "\""
                                                    },
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "application/json",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "X-Error-Property",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "body",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "[\"tobi\"]",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 403
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "[\"tobi\"]",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000172 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should allow pass-through",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000180 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000179 arguments",
                                  "1000180 e",
                                  "1000181 t"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000181 t",
                                  "1000180 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000181 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000183 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000184 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000185 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000186 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000182 arguments",
                                                      "1000183 e",
                                                      "1000184 t",
                                                      "1000185 r",
                                                      "1000186 n"
                                                    ],
                                                    "functions": [
                                                      "1000183 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000186 n",
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "===",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000186 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Throw",
                                                          "value": {
                                                            "_class": "AST_New",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "Error",
                                                              "thedef": "1000277 Error"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "no arrays",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "request",
                                                        "thedef": "1000004 request"
                                                      },
                                                      "args": [
                                                        {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "t",
                                                          "thedef": "1000181 t"
                                                        }
                                                      ]
                                                    },
                                                    "property": "post"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_String",
                                                      "value": "/",
                                                      "quote": "\""
                                                    }
                                                  ]
                                                },
                                                "property": "set"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_String",
                                                  "value": "Content-Type",
                                                  "quote": "\""
                                                },
                                                {
                                                  "_class": "AST_String",
                                                  "value": "application/json",
                                                  "quote": "\""
                                                }
                                              ]
                                            },
                                            "property": "send"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "{\"user\":\"tobi\"}",
                                              "quote": "'"
                                            }
                                          ]
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"user\":\"tobi\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000180 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should work with different charsets",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000188 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000187 arguments",
                                  "1000188 e",
                                  "1000189 t",
                                  "1000195 r"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000189 t",
                                  "1000195 r",
                                  "1000002 Buffer",
                                  "1000188 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000189 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000191 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000192 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000193 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000194 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000190 arguments",
                                                      "1000191 e",
                                                      "1000192 t",
                                                      "1000193 r",
                                                      "1000194 n"
                                                    ],
                                                    "functions": [
                                                      "1000191 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000194 n",
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_Binary",
                                                          "operator": "===",
                                                          "left": {
                                                            "_class": "AST_Sub",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "n",
                                                              "thedef": "1000194 n"
                                                            },
                                                            "property": {
                                                              "_class": "AST_Number",
                                                              "value": 0
                                                            }
                                                          },
                                                          "right": {
                                                            "_class": "AST_Number",
                                                            "value": 91
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_Throw",
                                                          "value": {
                                                            "_class": "AST_New",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "Error",
                                                              "thedef": "1000277 Error"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "no arrays",
                                                                "quote": "\""
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "r",
                                          "thedef": "1000195 r"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "t",
                                                  "thedef": "1000189 t"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000195 r"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=utf-16",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000195 r"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "feff007b0022006e0061006d00650022003a00228bba0022007d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000195 r"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000188 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 415 on unknown charset prior to verify",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000197 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000196 arguments",
                                  "1000197 e",
                                  "1000198 t",
                                  "1000204 r"
                                ],
                                "enclosed": [
                                  "1000255 createServer",
                                  "1000277 Error",
                                  "1000004 request",
                                  "1000198 t",
                                  "1000204 r",
                                  "1000002 Buffer",
                                  "1000197 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000198 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "createServer",
                                            "thedef": "1000255 createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Object",
                                              "properties": [
                                                {
                                                  "_class": "AST_ObjectKeyVal",
                                                  "key": "verify",
                                                  "value": {
                                                    "_class": "AST_Function",
                                                    "name": {
                                                      "_class": "AST_SymbolLambda",
                                                      "name": "e",
                                                      "thedef": "1000200 e"
                                                    },
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "t",
                                                        "thedef": "1000201 t"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "r",
                                                        "thedef": "1000202 r"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "n",
                                                        "thedef": "1000203 n"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000199 arguments",
                                                      "1000200 e",
                                                      "1000201 t",
                                                      "1000202 r",
                                                      "1000203 n"
                                                    ],
                                                    "functions": [
                                                      "1000200 e"
                                                    ],
                                                    "enclosed": [
                                                      "1000277 Error"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_Throw",
                                                        "value": {
                                                          "_class": "AST_New",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "Error",
                                                            "thedef": "1000277 Error"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "unexpected verify call",
                                                              "quote": "\""
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "r",
                                          "thedef": "1000204 r"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "t",
                                                  "thedef": "1000198 t"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000204 r"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=x-bogus",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000204 r"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "00000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000204 r"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 415
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "unsupported charset \"X-BOGUS\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000197 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "charset",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000205 arguments"
                      ],
                      "enclosed": [
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000002 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "before",
                              "thedef": "1000275 before"
                            },
                            "args": [
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000206 arguments"
                                ],
                                "enclosed": [
                                  "1000255 createServer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_This",
                                          "name": "this"
                                        },
                                        "property": "server"
                                      },
                                      "right": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "createServer",
                                          "thedef": "1000255 createServer"
                                        },
                                        "args": []
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should parse utf-8",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000208 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000207 arguments",
                                  "1000208 e",
                                  "1000209 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000209 t",
                                  "1000002 Buffer",
                                  "1000208 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000209 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000209 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=utf-8",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000209 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22e8aeba227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000209 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000208 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should parse utf-16",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000211 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000210 arguments",
                                  "1000211 e",
                                  "1000212 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000212 t",
                                  "1000002 Buffer",
                                  "1000211 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000212 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000212 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=utf-16",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000212 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "feff007b0022006e0061006d00650022003a00228bba0022007d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000212 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000211 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should parse when content-length != char length",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000214 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000213 arguments",
                                  "1000214 e",
                                  "1000215 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000215 t",
                                  "1000002 Buffer",
                                  "1000214 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000215 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000215 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=utf-8",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000215 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Length",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "13",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000215 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b2274657374223a22c3a5227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000215 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"test\":\"å\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000214 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should default to utf-8",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000217 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000216 arguments",
                                  "1000217 e",
                                  "1000218 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000218 t",
                                  "1000002 Buffer",
                                  "1000217 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000218 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000218 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000218 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22e8aeba227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000218 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000217 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fail on unknown charset",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000220 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000219 arguments",
                                  "1000220 e",
                                  "1000221 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000221 t",
                                  "1000002 Buffer",
                                  "1000220 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000221 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000221 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=koi8-r",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000221 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22cec5d4227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000221 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 415
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "unsupported charset \"KOI8-R\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000220 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error with type = \"charset.unsupported\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000223 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000222 arguments",
                                  "1000223 e",
                                  "1000224 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000224 t",
                                  "1000002 Buffer",
                                  "1000223 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000224 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000224 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json; charset=koi8-r",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000224 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "X-Error-Property",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "type",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000224 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22cec5d4227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000224 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 415
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "charset.unsupported",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000223 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000273 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "encoding",
                      "quote": "\""
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000225 arguments"
                      ],
                      "enclosed": [
                        "1000275 before",
                        "1000255 createServer",
                        "1000274 it",
                        "1000004 request",
                        "1000002 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "before",
                              "thedef": "1000275 before"
                            },
                            "args": [
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [],
                                "uses_arguments": false,
                                "variables": [
                                  "1000226 arguments"
                                ],
                                "enclosed": [
                                  "1000255 createServer"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_This",
                                          "name": "this"
                                        },
                                        "property": "server"
                                      },
                                      "right": {
                                        "_class": "AST_Call",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "createServer",
                                          "thedef": "1000255 createServer"
                                        },
                                        "args": [
                                          {
                                            "_class": "AST_Object",
                                            "properties": [
                                              {
                                                "_class": "AST_ObjectKeyVal",
                                                "key": "limit",
                                                "value": {
                                                  "_class": "AST_String",
                                                  "value": "1kb",
                                                  "quote": "\""
                                                }
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should parse without encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000228 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000227 arguments",
                                  "1000228 e",
                                  "1000229 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000229 t",
                                  "1000002 Buffer",
                                  "1000228 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000229 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000229 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000229 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22e8aeba227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000229 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000228 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should support identity encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000231 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000230 arguments",
                                  "1000231 e",
                                  "1000232 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000232 t",
                                  "1000002 Buffer",
                                  "1000231 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000232 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000232 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "identity",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000232 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000232 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "7b226e616d65223a22e8aeba227d",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000232 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000231 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should support gzip encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000234 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000233 arguments",
                                  "1000234 e",
                                  "1000235 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000235 t",
                                  "1000002 Buffer",
                                  "1000234 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000235 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000235 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "gzip",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000235 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000235 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "1f8b080000000000000bab56ca4bcc4d55b2527ab16e97522d00515be1cc0e000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000235 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000234 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should support deflate encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000237 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000236 arguments",
                                  "1000237 e",
                                  "1000238 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000238 t",
                                  "1000002 Buffer",
                                  "1000237 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000238 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000238 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "deflate",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000238 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000238 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "789cab56ca4bcc4d55b2527ab16e97522d00274505ac",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000238 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000237 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be case-insensitive",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000240 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000239 arguments",
                                  "1000240 e",
                                  "1000241 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000241 t",
                                  "1000002 Buffer",
                                  "1000240 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000241 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000241 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "GZIP",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000241 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000241 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "1f8b080000000000000bab56ca4bcc4d55b2527ab16e97522d00515be1cc0e000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000241 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 200
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "{\"name\":\"论\"}",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000240 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 415 on unknown encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000243 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000242 arguments",
                                  "1000243 e",
                                  "1000244 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000244 t",
                                  "1000002 Buffer",
                                  "1000243 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000244 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000244 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "nulls",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000244 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000244 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "000000000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000244 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 415
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "unsupported content encoding \"nulls\"",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000243 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should error with type = \"encoding.unsupported\"",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000246 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000245 arguments",
                                  "1000246 e",
                                  "1000247 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000247 t",
                                  "1000002 Buffer",
                                  "1000246 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "nulls",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "X-Error-Property",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "type",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "000000000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000247 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 415
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "encoding.unsupported",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000246 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 400 on malformed encoding",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000249 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000248 arguments",
                                  "1000249 e",
                                  "1000250 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000250 t",
                                  "1000002 Buffer",
                                  "1000249 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000250 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000250 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "gzip",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000250 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000250 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "1f8b080000000000000bab56cc4d55b2527ab16e97522d00515be1cc0e000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000250 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 400
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000249 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000274 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should 413 when inflated value exceeds limit",
                                "quote": "\""
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "e",
                                    "thedef": "1000252 e"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000251 arguments",
                                  "1000252 e",
                                  "1000253 t"
                                ],
                                "enclosed": [
                                  "1000004 request",
                                  "1000253 t",
                                  "1000002 Buffer",
                                  "1000252 e"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_Call",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "request",
                                                "thedef": "1000004 request"
                                              },
                                              "args": [
                                                {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_This",
                                                    "name": "this"
                                                  },
                                                  "property": "server"
                                                }
                                              ]
                                            },
                                            "property": "post"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "/",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Encoding",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "gzip",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "set"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "Content-Type",
                                          "quote": "\""
                                        },
                                        {
                                          "_class": "AST_String",
                                          "value": "application/json",
                                          "quote": "\""
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "1f8b080000000000000bedc1010d000000c2a0f74f6d0f071400000000000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "0000000000000000000000000000000000000000000000000000000000000000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "write"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "Buffer",
                                              "thedef": "1000002 Buffer"
                                            },
                                            "property": "from"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_String",
                                              "value": "0000000000000000004f0625b3b71650c30000",
                                              "quote": "\""
                                            },
                                            {
                                              "_class": "AST_String",
                                              "value": "hex",
                                              "quote": "\""
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "t",
                                          "thedef": "1000253 t"
                                        },
                                        "property": "expect"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Number",
                                          "value": 413
                                        },
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "e",
                                          "thedef": "1000252 e"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "createServer",
        "thedef": "1000255 createServer"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "e",
          "thedef": "1000256 e"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000254 arguments",
        "1000256 e",
        "1000257 n"
      ],
      "enclosed": [
        "1000256 e",
        "1000005 bodyParser",
        "1000003 http",
        "1000257 n",
        "1000276 JSON"
      ],
      "body": [
        {
          "_class": "AST_Var",
          "definitions": [
            {
              "_class": "AST_VarDef",
              "name": {
                "_class": "AST_SymbolVar",
                "name": "n",
                "thedef": "1000257 n"
              },
              "value": {
                "_class": "AST_Conditional",
                "condition": {
                  "_class": "AST_Binary",
                  "operator": "!==",
                  "left": {
                    "_class": "AST_UnaryPrefix",
                    "operator": "typeof",
                    "expression": {
                      "_class": "AST_SymbolRef",
                      "name": "e",
                      "thedef": "1000256 e"
                    }
                  },
                  "right": {
                    "_class": "AST_String",
                    "value": "function",
                    "quote": "\""
                  }
                },
                "consequent": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_Dot",
                    "expression": {
                      "_class": "AST_SymbolRef",
                      "name": "bodyParser",
                      "thedef": "1000005 bodyParser"
                    },
                    "property": "json"
                  },
                  "args": [
                    {
                      "_class": "AST_SymbolRef",
                      "name": "e",
                      "thedef": "1000256 e"
                    }
                  ]
                },
                "alternative": {
                  "_class": "AST_SymbolRef",
                  "name": "e",
                  "thedef": "1000256 e"
                }
              }
            }
          ]
        },
        {
          "_class": "AST_Return",
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "http",
                "thedef": "1000003 http"
              },
              "property": "createServer"
            },
            "args": [
              {
                "_class": "AST_Function",
                "name": null,
                "argnames": [
                  {
                    "_class": "AST_SymbolFunarg",
                    "name": "t",
                    "thedef": "1000259 t"
                  },
                  {
                    "_class": "AST_SymbolFunarg",
                    "name": "r",
                    "thedef": "1000260 r"
                  }
                ],
                "uses_arguments": false,
                "variables": [
                  "1000258 arguments",
                  "1000259 t",
                  "1000260 r"
                ],
                "enclosed": [
                  "1000257 n",
                  "1000259 t",
                  "1000260 r",
                  "1000276 JSON"
                ],
                "body": [
                  {
                    "_class": "AST_SimpleStatement",
                    "body": {
                      "_class": "AST_Call",
                      "expression": {
                        "_class": "AST_SymbolRef",
                        "name": "n",
                        "thedef": "1000257 n"
                      },
                      "args": [
                        {
                          "_class": "AST_SymbolRef",
                          "name": "t",
                          "thedef": "1000259 t"
                        },
                        {
                          "_class": "AST_SymbolRef",
                          "name": "r",
                          "thedef": "1000260 r"
                        },
                        {
                          "_class": "AST_Function",
                          "name": null,
                          "argnames": [
                            {
                              "_class": "AST_SymbolFunarg",
                              "name": "e",
                              "thedef": "1000262 e"
                            }
                          ],
                          "uses_arguments": false,
                          "variables": [
                            "1000261 arguments",
                            "1000262 e"
                          ],
                          "enclosed": [
                            "1000262 e",
                            "1000260 r",
                            "1000259 t",
                            "1000276 JSON"
                          ],
                          "body": [
                            {
                              "_class": "AST_If",
                              "condition": {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000262 e"
                              },
                              "alternative": {
                                "_class": "AST_BlockStatement",
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000260 r"
                                        },
                                        "property": "statusCode"
                                      },
                                      "right": {
                                        "_class": "AST_Number",
                                        "value": 200
                                      }
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000260 r"
                                        },
                                        "property": "end"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "JSON",
                                              "thedef": "1000276 JSON"
                                            },
                                            "property": "stringify"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Dot",
                                              "expression": {
                                                "_class": "AST_SymbolRef",
                                                "name": "t",
                                                "thedef": "1000259 t"
                                              },
                                              "property": "body"
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              },
                              "body": {
                                "_class": "AST_BlockStatement",
                                "body": [
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Assign",
                                      "operator": "=",
                                      "left": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000260 r"
                                        },
                                        "property": "statusCode"
                                      },
                                      "right": {
                                        "_class": "AST_Binary",
                                        "operator": "||",
                                        "left": {
                                          "_class": "AST_Dot",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "e",
                                            "thedef": "1000262 e"
                                          },
                                          "property": "status"
                                        },
                                        "right": {
                                          "_class": "AST_Number",
                                          "value": 500
                                        }
                                      }
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "r",
                                          "thedef": "1000260 r"
                                        },
                                        "property": "end"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Sub",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "e",
                                            "thedef": "1000262 e"
                                          },
                                          "property": {
                                            "_class": "AST_Binary",
                                            "operator": "||",
                                            "left": {
                                              "_class": "AST_Sub",
                                              "expression": {
                                                "_class": "AST_Dot",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "t",
                                                  "thedef": "1000259 t"
                                                },
                                                "property": "headers"
                                              },
                                              "property": {
                                                "_class": "AST_String",
                                                "value": "x-error-property",
                                                "quote": "\""
                                              }
                                            },
                                            "right": {
                                              "_class": "AST_String",
                                              "value": "message",
                                              "quote": "\""
                                            }
                                          }
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "parseError",
        "thedef": "1000264 parseError"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "e",
          "thedef": "1000265 e"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000263 arguments",
        "1000265 e"
      ],
      "enclosed": [
        "1000276 JSON",
        "1000265 e",
        "1000278 SyntaxError"
      ],
      "body": [
        {
          "_class": "AST_Try",
          "bcatch": {
            "_class": "AST_Catch",
            "argname": {
              "_class": "AST_SymbolCatch",
              "name": "e",
              "thedef": "1000266 e"
            },
            "body": [
              {
                "_class": "AST_Return",
                "value": {
                  "_class": "AST_Dot",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "e",
                    "thedef": "1000266 e"
                  },
                  "property": "message"
                }
              }
            ]
          },
          "bfinally": null,
          "body": [
            {
              "_class": "AST_SimpleStatement",
              "body": {
                "_class": "AST_Call",
                "expression": {
                  "_class": "AST_Dot",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "JSON",
                    "thedef": "1000276 JSON"
                  },
                  "property": "parse"
                },
                "args": [
                  {
                    "_class": "AST_SymbolRef",
                    "name": "e",
                    "thedef": "1000265 e"
                  }
                ]
              }
            },
            {
              "_class": "AST_Throw",
              "value": {
                "_class": "AST_New",
                "expression": {
                  "_class": "AST_SymbolRef",
                  "name": "SyntaxError",
                  "thedef": "1000278 SyntaxError"
                },
                "args": [
                  {
                    "_class": "AST_String",
                    "value": "strict violation",
                    "quote": "\""
                  }
                ]
              }
            }
          ]
        }
      ]
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "shouldContainInBody",
        "thedef": "1000268 shouldContainInBody"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "t",
          "thedef": "1000269 t"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000267 arguments",
        "1000269 t"
      ],
      "enclosed": [
        "1000001 assert",
        "1000269 t"
      ],
      "body": [
        {
          "_class": "AST_Return",
          "value": {
            "_class": "AST_Function",
            "name": null,
            "argnames": [
              {
                "_class": "AST_SymbolFunarg",
                "name": "e",
                "thedef": "1000271 e"
              }
            ],
            "uses_arguments": false,
            "variables": [
              "1000270 arguments",
              "1000271 e"
            ],
            "enclosed": [
              "1000001 assert",
              "1000271 e",
              "1000269 t"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_Dot",
                    "expression": {
                      "_class": "AST_SymbolRef",
                      "name": "assert",
                      "thedef": "1000001 assert"
                    },
                    "property": "ok"
                  },
                  "args": [
                    {
                      "_class": "AST_Binary",
                      "operator": "!==",
                      "left": {
                        "_class": "AST_Call",
                        "expression": {
                          "_class": "AST_Dot",
                          "expression": {
                            "_class": "AST_Dot",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "e",
                              "thedef": "1000271 e"
                            },
                            "property": "text"
                          },
                          "property": "indexOf"
                        },
                        "args": [
                          {
                            "_class": "AST_SymbolRef",
                            "name": "t",
                            "thedef": "1000269 t"
                          }
                        ]
                      },
                      "right": {
                        "_class": "AST_UnaryPrefix",
                        "operator": "-",
                        "expression": {
                          "_class": "AST_Number",
                          "value": 1
                        }
                      }
                    },
                    {
                      "_class": "AST_Binary",
                      "operator": "+",
                      "left": {
                        "_class": "AST_Binary",
                        "operator": "+",
                        "left": {
                          "_class": "AST_Binary",
                          "operator": "+",
                          "left": {
                            "_class": "AST_Binary",
                            "operator": "+",
                            "left": {
                              "_class": "AST_String",
                              "value": "expected '",
                              "quote": "\""
                            },
                            "right": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_SymbolRef",
                                "name": "e",
                                "thedef": "1000271 e"
                              },
                              "property": "text"
                            }
                          },
                          "right": {
                            "_class": "AST_String",
                            "value": "' to contain '",
                            "quote": "\""
                          }
                        },
                        "right": {
                          "_class": "AST_SymbolRef",
                          "name": "t",
                          "thedef": "1000269 t"
                        }
                      },
                      "right": {
                        "_class": "AST_String",
                        "value": "'",
                        "quote": "\""
                      }
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    }
  ]
}
