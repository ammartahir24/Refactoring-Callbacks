{
  "_class": "AST_Toplevel",
  "globals": [
    "1000557 require",
    "1000558 describe",
    "1000559 it",
    "1000560 setTimeout",
    "1000561 Error",
    "1000562 undefined",
    "1000563 Buffer",
    "1000564 process"
  ],
  "variables": [
    "1000001 assert",
    "1000002 http",
    "1000003 net",
    "1000004 onFinished",
    "1000526 captureStderr",
    "1000535 close",
    "1000543 noop",
    "1000545 sendGet",
    "1000554 writeRequest"
  ],
  "functions": [
    "1000526 captureStderr",
    "1000535 close",
    "1000543 noop",
    "1000545 sendGet",
    "1000554 writeRequest"
  ],
  "enclosed": [
    "1000557 require",
    "1000558 describe",
    "1000559 it",
    "1000004 onFinished",
    "1000002 http",
    "1000560 setTimeout",
    "1000545 sendGet",
    "1000001 assert",
    "1000561 Error",
    "1000554 writeRequest",
    "1000003 net",
    "1000543 noop",
    "1000535 close",
    "1000526 captureStderr",
    "1000562 undefined",
    "1000563 Buffer",
    "1000564 process"
  ],
  "body": [
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "assert",
            "thedef": "1000001 assert"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000557 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "assert",
                "quote": "'"
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "http",
            "thedef": "1000002 http"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000557 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "http",
                "quote": "'"
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "net",
            "thedef": "1000003 net"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000557 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "net",
                "quote": "'"
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Var",
      "definitions": [
        {
          "_class": "AST_VarDef",
          "name": {
            "_class": "AST_SymbolVar",
            "name": "onFinished",
            "thedef": "1000004 onFinished"
          },
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_SymbolRef",
              "name": "require",
              "thedef": "1000557 require"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "..",
                "quote": "'"
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_SimpleStatement",
      "body": {
        "_class": "AST_Call",
        "expression": {
          "_class": "AST_SymbolRef",
          "name": "describe",
          "thedef": "1000558 describe"
        },
        "args": [
          {
            "_class": "AST_String",
            "value": "onFinished(res, listener)",
            "quote": "'"
          },
          {
            "_class": "AST_Function",
            "name": null,
            "argnames": [],
            "uses_arguments": false,
            "variables": [
              "1000005 arguments"
            ],
            "enclosed": [
              "1000559 it",
              "1000004 onFinished",
              "1000558 describe",
              "1000002 http",
              "1000560 setTimeout",
              "1000545 sendGet",
              "1000001 assert",
              "1000561 Error",
              "1000554 writeRequest",
              "1000003 net",
              "1000543 noop",
              "1000535 close",
              "1000526 captureStderr"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should invoke listener given an unknown object",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "done",
                          "thedef": "1000007 done"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000006 arguments",
                        "1000007 done"
                      ],
                      "enclosed": [
                        "1000004 onFinished",
                        "1000007 done"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "onFinished",
                              "thedef": "1000004 onFinished"
                            },
                            "args": [
                              {
                                "_class": "AST_Object",
                                "properties": []
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "done",
                                "thedef": "1000007 done"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the response finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000008 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000560 setTimeout",
                        "1000545 sendGet",
                        "1000001 assert"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire the callback",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000010 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000009 arguments",
                                  "1000010 done",
                                  "1000011 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000010 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000011 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000011 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000013 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000014 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000012 arguments",
                                                "1000013 req",
                                                "1000014 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000014 res",
                                                "1000010 done",
                                                "1000560 setTimeout"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000014 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "done",
                                                        "thedef": "1000010 done"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000014 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000014 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000011 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include the response object",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000016 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000015 arguments",
                                  "1000016 done",
                                  "1000017 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000016 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000017 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000017 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000019 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000020 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000018 arguments",
                                                "1000019 req",
                                                "1000020 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000020 res",
                                                "1000001 assert",
                                                "1000016 done",
                                                "1000560 setTimeout"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000020 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000022 err"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "msg",
                                                            "thedef": "1000023 msg"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000021 arguments",
                                                          "1000022 err",
                                                          "1000023 msg"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000022 err",
                                                          "1000023 msg",
                                                          "1000020 res",
                                                          "1000016 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_UnaryPrefix",
                                                                  "operator": "!",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "err",
                                                                    "thedef": "1000022 err"
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "msg",
                                                                  "thedef": "1000023 msg"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000020 res"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "done",
                                                                "thedef": "1000016 done"
                                                              },
                                                              "args": []
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000020 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000020 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000017 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when called after finish",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000025 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000024 arguments",
                                  "1000025 done",
                                  "1000026 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000025 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000026 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000026 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000028 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000029 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000027 arguments",
                                                "1000028 req",
                                                "1000029 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000029 res",
                                                "1000025 done",
                                                "1000560 setTimeout"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000029 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000030 arguments"
                                                        ],
                                                        "enclosed": [
                                                          "1000004 onFinished",
                                                          "1000029 res",
                                                          "1000025 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "onFinished",
                                                                "thedef": "1000004 onFinished"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000029 res"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000025 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000029 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000029 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000026 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when using keep-alive",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000031 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000561 Error",
                        "1000554 writeRequest",
                        "1000003 net"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire for each response",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000033 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000032 arguments",
                                  "1000033 done",
                                  "1000034 called",
                                  "1000035 server",
                                  "1000040 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000034 called",
                                  "1000040 socket",
                                  "1000035 server",
                                  "1000033 done",
                                  "1000561 Error",
                                  "1000554 writeRequest",
                                  "1000003 net"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "called",
                                          "thedef": "1000034 called"
                                        },
                                        "value": {
                                          "_class": "AST_False"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000035 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000037 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000038 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000036 arguments",
                                                "1000037 req",
                                                "1000038 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000038 res",
                                                "1000034 called",
                                                "1000040 socket",
                                                "1000035 server",
                                                "1000033 done",
                                                "1000037 req",
                                                "1000561 Error",
                                                "1000554 writeRequest"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000038 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000039 arguments"
                                                        ],
                                                        "enclosed": [
                                                          "1000034 called",
                                                          "1000040 socket",
                                                          "1000035 server",
                                                          "1000033 done",
                                                          "1000037 req",
                                                          "1000561 Error",
                                                          "1000554 writeRequest"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "called",
                                                              "thedef": "1000034 called"
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_BlockStatement",
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000040 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000035 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "done",
                                                                      "thedef": "1000033 done"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Conditional",
                                                                        "condition": {
                                                                          "_class": "AST_Binary",
                                                                          "operator": "!==",
                                                                          "left": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "called",
                                                                            "thedef": "1000034 called"
                                                                          },
                                                                          "right": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "req",
                                                                            "thedef": "1000037 req"
                                                                          }
                                                                        },
                                                                        "consequent": {
                                                                          "_class": "AST_Null"
                                                                        },
                                                                        "alternative": {
                                                                          "_class": "AST_New",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "Error",
                                                                            "thedef": "1000561 Error"
                                                                          },
                                                                          "args": [
                                                                            {
                                                                              "_class": "AST_String",
                                                                              "value": "fired twice on same req",
                                                                              "quote": "'"
                                                                            }
                                                                          ]
                                                                        }
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_Return",
                                                                  "value": null
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Assign",
                                                              "operator": "=",
                                                              "left": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "called",
                                                                "thedef": "1000034 called"
                                                              },
                                                              "right": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "req",
                                                                "thedef": "1000037 req"
                                                              }
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "writeRequest",
                                                                "thedef": "1000554 writeRequest"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "socket",
                                                                  "thedef": "1000040 socket"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000038 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000040 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000035 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000041 arguments"
                                          ],
                                          "enclosed": [
                                            "1000040 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000040 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000042 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when requests pipelined",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000043 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000554 writeRequest",
                        "1000003 net"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire for each request",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000045 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000044 arguments",
                                  "1000045 done",
                                  "1000046 count",
                                  "1000047 responses",
                                  "1000048 server",
                                  "1000056 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000047 responses",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000056 socket",
                                  "1000046 count",
                                  "1000554 writeRequest",
                                  "1000048 server",
                                  "1000003 net",
                                  "1000045 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "count",
                                          "thedef": "1000046 count"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 0
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "responses",
                                          "thedef": "1000047 responses"
                                        },
                                        "value": {
                                          "_class": "AST_Array",
                                          "elements": []
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000048 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000050 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000051 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000049 arguments",
                                                "1000050 req",
                                                "1000051 res"
                                              ],
                                              "enclosed": [
                                                "1000047 responses",
                                                "1000051 res",
                                                "1000004 onFinished",
                                                "1000001 assert",
                                                "1000056 socket",
                                                "1000050 req",
                                                "1000046 count",
                                                "1000554 writeRequest"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "responses",
                                                        "thedef": "1000047 responses"
                                                      },
                                                      "property": "push"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000051 res"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000051 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000053 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000052 arguments",
                                                          "1000053 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000053 err",
                                                          "1000047 responses",
                                                          "1000051 res",
                                                          "1000056 socket"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000053 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Sub",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000047 responses"
                                                                  },
                                                                  "property": {
                                                                    "_class": "AST_Number",
                                                                    "value": 0
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000051 res"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "responses",
                                                                  "thedef": "1000047 responses"
                                                                },
                                                                "property": "shift"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_Binary",
                                                              "operator": "===",
                                                              "left": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "responses",
                                                                  "thedef": "1000047 responses"
                                                                },
                                                                "property": "length"
                                                              },
                                                              "right": {
                                                                "_class": "AST_Number",
                                                                "value": 0
                                                              }
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_BlockStatement",
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000056 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_Return",
                                                                  "value": null
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Sub",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000047 responses"
                                                                  },
                                                                  "property": {
                                                                    "_class": "AST_Number",
                                                                    "value": 0
                                                                  }
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_String",
                                                                  "value": "response b",
                                                                  "quote": "'"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000050 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000055 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000054 arguments",
                                                          "1000055 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000055 err",
                                                          "1000046 count",
                                                          "1000047 responses"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000055 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_Binary",
                                                              "operator": "!==",
                                                              "left": {
                                                                "_class": "AST_UnaryPrefix",
                                                                "operator": "++",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "count",
                                                                  "thedef": "1000046 count"
                                                                }
                                                              },
                                                              "right": {
                                                                "_class": "AST_Number",
                                                                "value": 2
                                                              }
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_BlockStatement",
                                                              "body": [
                                                                {
                                                                  "_class": "AST_Return",
                                                                  "value": null
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000047 responses"
                                                                  },
                                                                  "property": "length"
                                                                },
                                                                {
                                                                  "_class": "AST_Number",
                                                                  "value": 2
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Sub",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000047 responses"
                                                                  },
                                                                  "property": {
                                                                    "_class": "AST_Number",
                                                                    "value": 0
                                                                  }
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_String",
                                                                  "value": "response a",
                                                                  "quote": "'"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_If",
                                                  "condition": {
                                                    "_class": "AST_Binary",
                                                    "operator": "===",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "responses",
                                                        "thedef": "1000047 responses"
                                                      },
                                                      "property": "length"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 1
                                                    }
                                                  },
                                                  "alternative": null,
                                                  "body": {
                                                    "_class": "AST_BlockStatement",
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "writeRequest",
                                                            "thedef": "1000554 writeRequest"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000056 socket"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000050 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000056 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000048 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000057 arguments",
                                            "1000058 data"
                                          ],
                                          "enclosed": [
                                            "1000056 socket",
                                            "1000003 net",
                                            "1000554 writeRequest",
                                            "1000058 data",
                                            "1000001 assert",
                                            "1000048 server",
                                            "1000045 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000058 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_String",
                                                    "value": "",
                                                    "quote": "'"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000056 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000059 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000056 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000061 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000060 arguments",
                                                      "1000061 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000058 data",
                                                      "1000061 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Assign",
                                                          "operator": "+=",
                                                          "left": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "data",
                                                            "thedef": "1000058 data"
                                                          },
                                                          "right": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "chunk",
                                                                "thedef": "1000061 chunk"
                                                              },
                                                              "property": "toString"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_String",
                                                                "value": "binary",
                                                                "quote": "'"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000056 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "end",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000062 arguments"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000058 data",
                                                      "1000048 server",
                                                      "1000045 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ok"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_RegExp",
                                                                  "value": {
                                                                    "raw_source": "response a"
                                                                  }
                                                                },
                                                                "property": "test"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "data",
                                                                  "thedef": "1000058 data"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ok"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_RegExp",
                                                                  "value": {
                                                                    "raw_source": "response b"
                                                                  }
                                                                },
                                                                "property": "test"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "data",
                                                                  "thedef": "1000058 data"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "server",
                                                              "thedef": "1000048 server"
                                                            },
                                                            "property": "close"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "done",
                                                              "thedef": "1000045 done"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when response errors",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000063 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000543 noop",
                        "1000003 net",
                        "1000554 writeRequest"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire with error",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000065 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000064 arguments",
                                  "1000065 done",
                                  "1000066 server",
                                  "1000072 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000066 server",
                                  "1000065 done",
                                  "1000072 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000066 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000068 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000069 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000067 arguments",
                                                "1000068 req",
                                                "1000069 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000069 res",
                                                "1000001 assert",
                                                "1000066 server",
                                                "1000065 done",
                                                "1000072 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000069 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000071 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000070 arguments",
                                                          "1000071 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000071 err",
                                                          "1000066 server",
                                                          "1000065 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000071 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000066 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000065 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000072 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000072 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000072 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000066 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000073 arguments"
                                          ],
                                          "enclosed": [
                                            "1000072 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000072 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000074 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include the response object",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000076 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000075 arguments",
                                  "1000076 done",
                                  "1000077 server",
                                  "1000084 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000077 server",
                                  "1000076 done",
                                  "1000084 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000077 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000079 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000080 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000078 arguments",
                                                "1000079 req",
                                                "1000080 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000080 res",
                                                "1000001 assert",
                                                "1000077 server",
                                                "1000076 done",
                                                "1000084 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000080 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000082 err"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "msg",
                                                            "thedef": "1000083 msg"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000081 arguments",
                                                          "1000082 err",
                                                          "1000083 msg"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000082 err",
                                                          "1000083 msg",
                                                          "1000080 res",
                                                          "1000077 server",
                                                          "1000076 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000082 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "msg",
                                                                  "thedef": "1000083 msg"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000080 res"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000077 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000076 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000084 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000084 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000084 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000077 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000085 arguments"
                                          ],
                                          "enclosed": [
                                            "1000084 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000084 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000086 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the response aborts",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000087 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000535 close",
                        "1000560 setTimeout",
                        "1000543 noop"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should execute the callback",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000089 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000088 arguments",
                                  "1000089 done",
                                  "1000090 client",
                                  "1000091 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000535 close",
                                  "1000091 server",
                                  "1000089 done",
                                  "1000560 setTimeout",
                                  "1000090 client",
                                  "1000543 noop"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000090 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000091 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000093 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000094 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000092 arguments",
                                                "1000093 req",
                                                "1000094 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000094 res",
                                                "1000535 close",
                                                "1000091 server",
                                                "1000089 done",
                                                "1000560 setTimeout",
                                                "1000090 client"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000094 res"
                                                      },
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "close",
                                                          "thedef": "1000535 close"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "server",
                                                            "thedef": "1000091 server"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "done",
                                                            "thedef": "1000089 done"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "client",
                                                              "thedef": "1000090 client"
                                                            },
                                                            "property": "abort"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "client",
                                                            "thedef": "1000090 client"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000091 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000095 arguments",
                                            "1000096 port"
                                          ],
                                          "enclosed": [
                                            "1000090 client",
                                            "1000002 http",
                                            "1000096 port",
                                            "1000543 noop"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000096 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000090 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "get"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Binary",
                                                      "operator": "+",
                                                      "left": {
                                                        "_class": "AST_String",
                                                        "value": "http://127.0.0.1:",
                                                        "quote": "'"
                                                      },
                                                      "right": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "port",
                                                        "thedef": "1000096 port"
                                                      }
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000090 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "error",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "noop",
                                                    "thedef": "1000543 noop"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when calling many times on same response",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000097 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000526 captureStderr",
                        "1000004 onFinished",
                        "1000543 noop",
                        "1000001 assert"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should not print warnings",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000099 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000098 arguments",
                                  "1000099 done",
                                  "1000100 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000526 captureStderr",
                                  "1000004 onFinished",
                                  "1000543 noop",
                                  "1000099 done",
                                  "1000001 assert",
                                  "1000100 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000100 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000102 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000103 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000101 arguments",
                                                "1000102 req",
                                                "1000103 res",
                                                "1000104 stderr"
                                              ],
                                              "enclosed": [
                                                "1000526 captureStderr",
                                                "1000004 onFinished",
                                                "1000103 res",
                                                "1000543 noop",
                                                "1000099 done",
                                                "1000001 assert",
                                                "1000104 stderr"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Var",
                                                  "definitions": [
                                                    {
                                                      "_class": "AST_VarDef",
                                                      "name": {
                                                        "_class": "AST_SymbolVar",
                                                        "name": "stderr",
                                                        "thedef": "1000104 stderr"
                                                      },
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "captureStderr",
                                                          "thedef": "1000526 captureStderr"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Function",
                                                            "name": null,
                                                            "argnames": [],
                                                            "uses_arguments": false,
                                                            "variables": [
                                                              "1000105 arguments",
                                                              "1000106 i"
                                                            ],
                                                            "enclosed": [
                                                              "1000106 i",
                                                              "1000004 onFinished",
                                                              "1000103 res",
                                                              "1000543 noop"
                                                            ],
                                                            "body": [
                                                              {
                                                                "_class": "AST_For",
                                                                "init": {
                                                                  "_class": "AST_Var",
                                                                  "definitions": [
                                                                    {
                                                                      "_class": "AST_VarDef",
                                                                      "name": {
                                                                        "_class": "AST_SymbolVar",
                                                                        "name": "i",
                                                                        "thedef": "1000106 i"
                                                                      },
                                                                      "value": {
                                                                        "_class": "AST_Number",
                                                                        "value": 0
                                                                      }
                                                                    }
                                                                  ]
                                                                },
                                                                "condition": {
                                                                  "_class": "AST_Binary",
                                                                  "operator": "<",
                                                                  "left": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "i",
                                                                    "thedef": "1000106 i"
                                                                  },
                                                                  "right": {
                                                                    "_class": "AST_Number",
                                                                    "value": 400
                                                                  }
                                                                },
                                                                "step": {
                                                                  "_class": "AST_UnaryPostfix",
                                                                  "operator": "++",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "i",
                                                                    "thedef": "1000106 i"
                                                                  }
                                                                },
                                                                "body": {
                                                                  "_class": "AST_BlockStatement",
                                                                  "body": [
                                                                    {
                                                                      "_class": "AST_SimpleStatement",
                                                                      "body": {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "onFinished",
                                                                          "thedef": "1000004 onFinished"
                                                                        },
                                                                        "args": [
                                                                          {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "res",
                                                                            "thedef": "1000103 res"
                                                                          },
                                                                          {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "noop",
                                                                            "thedef": "1000543 noop"
                                                                          }
                                                                        ]
                                                                      }
                                                                    }
                                                                  ]
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000103 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "done",
                                                        "thedef": "1000099 done"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "strictEqual"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "stderr",
                                                        "thedef": "1000104 stderr"
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000103 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000100 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000107 arguments",
                                            "1000108 port"
                                          ],
                                          "enclosed": [
                                            "1000002 http",
                                            "1000108 port",
                                            "1000100 server"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000108 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "http",
                                                    "thedef": "1000002 http"
                                                  },
                                                  "property": "get"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Binary",
                                                    "operator": "+",
                                                    "left": {
                                                      "_class": "AST_String",
                                                      "value": "http://127.0.0.1:",
                                                      "quote": "'"
                                                    },
                                                    "right": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "port",
                                                      "thedef": "1000108 port"
                                                    }
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000110 res"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000109 arguments",
                                                      "1000110 res"
                                                    ],
                                                    "enclosed": [
                                                      "1000110 res",
                                                      "1000100 server"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000110 res"
                                                            },
                                                            "property": "resume"
                                                          },
                                                          "args": []
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000110 res"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "end",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "server",
                                                                    "thedef": "1000100 server"
                                                                  },
                                                                  "property": "close"
                                                                },
                                                                "property": "bind"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000100 server"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    {
      "_class": "AST_SimpleStatement",
      "body": {
        "_class": "AST_Call",
        "expression": {
          "_class": "AST_SymbolRef",
          "name": "describe",
          "thedef": "1000558 describe"
        },
        "args": [
          {
            "_class": "AST_String",
            "value": "isFinished(res)",
            "quote": "'"
          },
          {
            "_class": "AST_Function",
            "name": null,
            "argnames": [],
            "uses_arguments": false,
            "variables": [
              "1000111 arguments"
            ],
            "enclosed": [
              "1000559 it",
              "1000001 assert",
              "1000004 onFinished",
              "1000562 undefined",
              "1000002 http",
              "1000545 sendGet",
              "1000558 describe",
              "1000554 writeRequest",
              "1000003 net",
              "1000543 noop",
              "1000560 setTimeout"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should return undefined for unknown object",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000112 arguments"
                      ],
                      "enclosed": [
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000562 undefined"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_SymbolRef",
                                "name": "assert",
                                "thedef": "1000001 assert"
                              },
                              "property": "strictEqual"
                            },
                            "args": [
                              {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "onFinished",
                                    "thedef": "1000004 onFinished"
                                  },
                                  "property": "isFinished"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Object",
                                    "properties": []
                                  }
                                ]
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "undefined",
                                "thedef": "1000562 undefined"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should be false before response finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "done",
                          "thedef": "1000114 done"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000113 arguments",
                        "1000114 done",
                        "1000115 server"
                      ],
                      "enclosed": [
                        "1000002 http",
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000114 done",
                        "1000545 sendGet",
                        "1000115 server"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "server",
                                "thedef": "1000115 server"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "http",
                                    "thedef": "1000002 http"
                                  },
                                  "property": "createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "req",
                                        "thedef": "1000117 req"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "res",
                                        "thedef": "1000118 res"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000116 arguments",
                                      "1000117 req",
                                      "1000118 res"
                                    ],
                                    "enclosed": [
                                      "1000001 assert",
                                      "1000004 onFinished",
                                      "1000118 res",
                                      "1000114 done"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "assert",
                                              "thedef": "1000001 assert"
                                            },
                                            "property": "ok"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_UnaryPrefix",
                                              "operator": "!",
                                              "expression": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "onFinished",
                                                    "thedef": "1000004 onFinished"
                                                  },
                                                  "property": "isFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "res",
                                                    "thedef": "1000118 res"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "res",
                                              "thedef": "1000118 res"
                                            },
                                            "property": "end"
                                          },
                                          "args": []
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "done",
                                            "thedef": "1000114 done"
                                          },
                                          "args": []
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "sendGet",
                              "thedef": "1000545 sendGet"
                            },
                            "args": [
                              {
                                "_class": "AST_SymbolRef",
                                "name": "server",
                                "thedef": "1000115 server"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should be true after response finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "done",
                          "thedef": "1000120 done"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000119 arguments",
                        "1000120 done",
                        "1000121 server"
                      ],
                      "enclosed": [
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000120 done",
                        "1000545 sendGet",
                        "1000121 server"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "server",
                                "thedef": "1000121 server"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "http",
                                    "thedef": "1000002 http"
                                  },
                                  "property": "createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "req",
                                        "thedef": "1000123 req"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "res",
                                        "thedef": "1000124 res"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000122 arguments",
                                      "1000123 req",
                                      "1000124 res"
                                    ],
                                    "enclosed": [
                                      "1000004 onFinished",
                                      "1000124 res",
                                      "1000001 assert",
                                      "1000120 done"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "onFinished",
                                            "thedef": "1000004 onFinished"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "res",
                                              "thedef": "1000124 res"
                                            },
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "err",
                                                  "thedef": "1000126 err"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000125 arguments",
                                                "1000126 err"
                                              ],
                                              "enclosed": [
                                                "1000001 assert",
                                                "1000126 err",
                                                "1000004 onFinished",
                                                "1000124 res",
                                                "1000120 done"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "ifError"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "err",
                                                        "thedef": "1000126 err"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "ok"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "onFinished",
                                                            "thedef": "1000004 onFinished"
                                                          },
                                                          "property": "isFinished"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000124 res"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "done",
                                                      "thedef": "1000120 done"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "res",
                                              "thedef": "1000124 res"
                                            },
                                            "property": "end"
                                          },
                                          "args": []
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "sendGet",
                              "thedef": "1000545 sendGet"
                            },
                            "args": [
                              {
                                "_class": "AST_SymbolRef",
                                "name": "server",
                                "thedef": "1000121 server"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when requests pipelined",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000127 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000554 writeRequest",
                        "1000003 net",
                        "1000543 noop"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should have correct state when socket shared",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000129 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000128 arguments",
                                  "1000129 done",
                                  "1000130 count",
                                  "1000131 responses",
                                  "1000132 server",
                                  "1000138 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000131 responses",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000130 count",
                                  "1000138 socket",
                                  "1000132 server",
                                  "1000129 done",
                                  "1000554 writeRequest",
                                  "1000003 net"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "count",
                                          "thedef": "1000130 count"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 0
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "responses",
                                          "thedef": "1000131 responses"
                                        },
                                        "value": {
                                          "_class": "AST_Array",
                                          "elements": []
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000132 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000134 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000135 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000133 arguments",
                                                "1000134 req",
                                                "1000135 res"
                                              ],
                                              "enclosed": [
                                                "1000131 responses",
                                                "1000135 res",
                                                "1000004 onFinished",
                                                "1000134 req",
                                                "1000001 assert",
                                                "1000130 count",
                                                "1000138 socket",
                                                "1000132 server",
                                                "1000129 done",
                                                "1000554 writeRequest"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "responses",
                                                        "thedef": "1000131 responses"
                                                      },
                                                      "property": "push"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000135 res"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000134 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000137 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000136 arguments",
                                                          "1000137 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000137 err",
                                                          "1000130 count",
                                                          "1000004 onFinished",
                                                          "1000131 responses",
                                                          "1000138 socket",
                                                          "1000132 server",
                                                          "1000129 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000137 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_Binary",
                                                              "operator": "!==",
                                                              "left": {
                                                                "_class": "AST_UnaryPrefix",
                                                                "operator": "++",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "count",
                                                                  "thedef": "1000130 count"
                                                                }
                                                              },
                                                              "right": {
                                                                "_class": "AST_Number",
                                                                "value": 2
                                                              }
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_BlockStatement",
                                                              "body": [
                                                                {
                                                                  "_class": "AST_Return",
                                                                  "value": null
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_UnaryPrefix",
                                                                  "operator": "!",
                                                                  "expression": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "onFinished",
                                                                        "thedef": "1000004 onFinished"
                                                                      },
                                                                      "property": "isFinished"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Sub",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "responses",
                                                                          "thedef": "1000131 responses"
                                                                        },
                                                                        "property": {
                                                                          "_class": "AST_Number",
                                                                          "value": 0
                                                                        }
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_UnaryPrefix",
                                                                  "operator": "!",
                                                                  "expression": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "onFinished",
                                                                        "thedef": "1000004 onFinished"
                                                                      },
                                                                      "property": "isFinished"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Sub",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "responses",
                                                                          "thedef": "1000131 responses"
                                                                        },
                                                                        "property": {
                                                                          "_class": "AST_Number",
                                                                          "value": 1
                                                                        }
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Sub",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000131 responses"
                                                                  },
                                                                  "property": {
                                                                    "_class": "AST_Number",
                                                                    "value": 0
                                                                  }
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Sub",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "responses",
                                                                    "thedef": "1000131 responses"
                                                                  },
                                                                  "property": {
                                                                    "_class": "AST_Number",
                                                                    "value": 1
                                                                  }
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "socket",
                                                                  "thedef": "1000138 socket"
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000132 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000129 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_If",
                                                  "condition": {
                                                    "_class": "AST_Binary",
                                                    "operator": "===",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "responses",
                                                        "thedef": "1000131 responses"
                                                      },
                                                      "property": "length"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 1
                                                    }
                                                  },
                                                  "alternative": null,
                                                  "body": {
                                                    "_class": "AST_BlockStatement",
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "writeRequest",
                                                            "thedef": "1000554 writeRequest"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000138 socket"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000134 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000138 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000132 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000139 arguments"
                                          ],
                                          "enclosed": [
                                            "1000138 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000138 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000140 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should handle aborted requests",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000142 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000141 arguments",
                                  "1000142 done",
                                  "1000143 count",
                                  "1000144 requests",
                                  "1000145 server",
                                  "1000151 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000144 requests",
                                  "1000004 onFinished",
                                  "1000143 count",
                                  "1000001 assert",
                                  "1000151 socket",
                                  "1000543 noop",
                                  "1000145 server",
                                  "1000142 done",
                                  "1000554 writeRequest",
                                  "1000003 net"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "count",
                                          "thedef": "1000143 count"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 0
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "requests",
                                          "thedef": "1000144 requests"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 0
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000145 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000147 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000148 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000146 arguments",
                                                "1000147 req",
                                                "1000148 res"
                                              ],
                                              "enclosed": [
                                                "1000144 requests",
                                                "1000004 onFinished",
                                                "1000147 req",
                                                "1000143 count",
                                                "1000001 assert",
                                                "1000151 socket",
                                                "1000543 noop",
                                                "1000145 server",
                                                "1000142 done",
                                                "1000554 writeRequest"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_UnaryPostfix",
                                                    "operator": "++",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "requests",
                                                      "thedef": "1000144 requests"
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000147 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000150 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000149 arguments",
                                                          "1000150 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000143 count",
                                                          "1000001 assert",
                                                          "1000150 err",
                                                          "1000151 socket",
                                                          "1000543 noop",
                                                          "1000145 server",
                                                          "1000142 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_Switch",
                                                            "expression": {
                                                              "_class": "AST_UnaryPrefix",
                                                              "operator": "++",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "count",
                                                                "thedef": "1000143 count"
                                                              }
                                                            },
                                                            "body": [
                                                              {
                                                                "_class": "AST_Case",
                                                                "expression": {
                                                                  "_class": "AST_Number",
                                                                  "value": 1
                                                                },
                                                                "body": [
                                                                  {
                                                                    "_class": "AST_SimpleStatement",
                                                                    "body": {
                                                                      "_class": "AST_Call",
                                                                      "expression": {
                                                                        "_class": "AST_Dot",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "assert",
                                                                          "thedef": "1000001 assert"
                                                                        },
                                                                        "property": "ifError"
                                                                      },
                                                                      "args": [
                                                                        {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "err",
                                                                          "thedef": "1000150 err"
                                                                        }
                                                                      ]
                                                                    }
                                                                  },
                                                                  {
                                                                    "_class": "AST_SimpleStatement",
                                                                    "body": {
                                                                      "_class": "AST_Call",
                                                                      "expression": {
                                                                        "_class": "AST_Dot",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "socket",
                                                                          "thedef": "1000151 socket"
                                                                        },
                                                                        "property": "on"
                                                                      },
                                                                      "args": [
                                                                        {
                                                                          "_class": "AST_String",
                                                                          "value": "error",
                                                                          "quote": "'"
                                                                        },
                                                                        {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "noop",
                                                                          "thedef": "1000543 noop"
                                                                        }
                                                                      ]
                                                                    }
                                                                  },
                                                                  {
                                                                    "_class": "AST_SimpleStatement",
                                                                    "body": {
                                                                      "_class": "AST_Call",
                                                                      "expression": {
                                                                        "_class": "AST_Dot",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "socket",
                                                                          "thedef": "1000151 socket"
                                                                        },
                                                                        "property": "destroy"
                                                                      },
                                                                      "args": []
                                                                    }
                                                                  },
                                                                  {
                                                                    "_class": "AST_Break",
                                                                    "label": null
                                                                  }
                                                                ]
                                                              },
                                                              {
                                                                "_class": "AST_Case",
                                                                "expression": {
                                                                  "_class": "AST_Number",
                                                                  "value": 2
                                                                },
                                                                "body": [
                                                                  {
                                                                    "_class": "AST_SimpleStatement",
                                                                    "body": {
                                                                      "_class": "AST_Call",
                                                                      "expression": {
                                                                        "_class": "AST_Dot",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "server",
                                                                          "thedef": "1000145 server"
                                                                        },
                                                                        "property": "close"
                                                                      },
                                                                      "args": [
                                                                        {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "done",
                                                                          "thedef": "1000142 done"
                                                                        }
                                                                      ]
                                                                    }
                                                                  },
                                                                  {
                                                                    "_class": "AST_Break",
                                                                    "label": null
                                                                  }
                                                                ]
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000147 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                },
                                                {
                                                  "_class": "AST_If",
                                                  "condition": {
                                                    "_class": "AST_Binary",
                                                    "operator": "===",
                                                    "left": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "requests",
                                                      "thedef": "1000144 requests"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 1
                                                    }
                                                  },
                                                  "alternative": null,
                                                  "body": {
                                                    "_class": "AST_BlockStatement",
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "writeRequest",
                                                            "thedef": "1000554 writeRequest"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000151 socket"
                                                            },
                                                            {
                                                              "_class": "AST_True"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000151 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000145 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000152 arguments"
                                          ],
                                          "enclosed": [
                                            "1000151 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000151 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000153 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when response errors",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000154 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000543 noop",
                        "1000003 net",
                        "1000554 writeRequest"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should return true",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000156 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000155 arguments",
                                  "1000156 done",
                                  "1000157 server",
                                  "1000163 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000157 server",
                                  "1000156 done",
                                  "1000163 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000157 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000159 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000160 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000158 arguments",
                                                "1000159 req",
                                                "1000160 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000160 res",
                                                "1000001 assert",
                                                "1000157 server",
                                                "1000156 done",
                                                "1000163 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000160 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000162 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000161 arguments",
                                                          "1000162 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000162 err",
                                                          "1000004 onFinished",
                                                          "1000160 res",
                                                          "1000157 server",
                                                          "1000156 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000162 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "onFinished",
                                                                      "thedef": "1000004 onFinished"
                                                                    },
                                                                    "property": "isFinished"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "res",
                                                                      "thedef": "1000160 res"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000157 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000156 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000163 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000163 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000163 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000157 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000164 arguments"
                                          ],
                                          "enclosed": [
                                            "1000163 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000163 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000165 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the response aborts",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000166 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000560 setTimeout",
                        "1000543 noop"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should return true",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000168 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000167 arguments",
                                  "1000168 done",
                                  "1000169 client",
                                  "1000170 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000170 server",
                                  "1000168 done",
                                  "1000560 setTimeout",
                                  "1000169 client",
                                  "1000543 noop"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000169 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000170 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000172 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000173 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000171 arguments",
                                                "1000172 req",
                                                "1000173 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000173 res",
                                                "1000001 assert",
                                                "1000170 server",
                                                "1000168 done",
                                                "1000560 setTimeout",
                                                "1000169 client"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000173 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000175 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000174 arguments",
                                                          "1000175 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000175 err",
                                                          "1000004 onFinished",
                                                          "1000173 res",
                                                          "1000170 server",
                                                          "1000168 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000175 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "onFinished",
                                                                      "thedef": "1000004 onFinished"
                                                                    },
                                                                    "property": "isFinished"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "res",
                                                                      "thedef": "1000173 res"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000170 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000168 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "client",
                                                              "thedef": "1000169 client"
                                                            },
                                                            "property": "abort"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "client",
                                                            "thedef": "1000169 client"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000170 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000176 arguments",
                                            "1000177 port"
                                          ],
                                          "enclosed": [
                                            "1000169 client",
                                            "1000002 http",
                                            "1000177 port",
                                            "1000543 noop"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000177 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000169 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "get"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Binary",
                                                      "operator": "+",
                                                      "left": {
                                                        "_class": "AST_String",
                                                        "value": "http://127.0.0.1:",
                                                        "quote": "'"
                                                      },
                                                      "right": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "port",
                                                        "thedef": "1000177 port"
                                                      }
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000169 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "error",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "noop",
                                                    "thedef": "1000543 noop"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    {
      "_class": "AST_SimpleStatement",
      "body": {
        "_class": "AST_Call",
        "expression": {
          "_class": "AST_SymbolRef",
          "name": "describe",
          "thedef": "1000558 describe"
        },
        "args": [
          {
            "_class": "AST_String",
            "value": "onFinished(req, listener)",
            "quote": "'"
          },
          {
            "_class": "AST_Function",
            "name": null,
            "argnames": [],
            "uses_arguments": false,
            "variables": [
              "1000178 arguments"
            ],
            "enclosed": [
              "1000558 describe",
              "1000559 it",
              "1000002 http",
              "1000004 onFinished",
              "1000560 setTimeout",
              "1000545 sendGet",
              "1000001 assert",
              "1000561 Error",
              "1000554 writeRequest",
              "1000003 net",
              "1000543 noop",
              "1000535 close",
              "1000526 captureStderr",
              "1000563 Buffer"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the request finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000179 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000560 setTimeout",
                        "1000545 sendGet",
                        "1000001 assert"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire the callback",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000181 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000180 arguments",
                                  "1000181 done",
                                  "1000182 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000181 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000182 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000182 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000184 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000185 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000183 arguments",
                                                "1000184 req",
                                                "1000185 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000184 req",
                                                "1000181 done",
                                                "1000560 setTimeout",
                                                "1000185 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000184 req"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "done",
                                                        "thedef": "1000181 done"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000184 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000185 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000185 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000182 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include the request object",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000187 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000186 arguments",
                                  "1000187 done",
                                  "1000188 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000187 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000188 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000188 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000190 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000191 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000189 arguments",
                                                "1000190 req",
                                                "1000191 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000190 req",
                                                "1000001 assert",
                                                "1000187 done",
                                                "1000560 setTimeout",
                                                "1000191 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000190 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000193 err"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "msg",
                                                            "thedef": "1000194 msg"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000192 arguments",
                                                          "1000193 err",
                                                          "1000194 msg"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000193 err",
                                                          "1000194 msg",
                                                          "1000190 req",
                                                          "1000187 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_UnaryPrefix",
                                                                  "operator": "!",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "err",
                                                                    "thedef": "1000193 err"
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "msg",
                                                                  "thedef": "1000194 msg"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000190 req"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "done",
                                                                "thedef": "1000187 done"
                                                              },
                                                              "args": []
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000190 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000191 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000191 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000188 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when called after finish",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000196 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000195 arguments",
                                  "1000196 done",
                                  "1000197 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000196 done",
                                  "1000560 setTimeout",
                                  "1000545 sendGet",
                                  "1000197 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000197 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000199 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000200 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000198 arguments",
                                                "1000199 req",
                                                "1000200 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000199 req",
                                                "1000196 done",
                                                "1000560 setTimeout",
                                                "1000200 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000199 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000201 arguments"
                                                        ],
                                                        "enclosed": [
                                                          "1000004 onFinished",
                                                          "1000199 req",
                                                          "1000196 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "onFinished",
                                                                "thedef": "1000004 onFinished"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000199 req"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000196 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000199 req"
                                                      },
                                                      "property": "resume"
                                                    },
                                                    "args": []
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000200 res"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "res",
                                                            "thedef": "1000200 res"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000197 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when using keep-alive",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000202 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000561 Error",
                        "1000554 writeRequest",
                        "1000003 net"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire for each request",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000204 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000203 arguments",
                                  "1000204 done",
                                  "1000205 called",
                                  "1000206 server",
                                  "1000215 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000205 called",
                                  "1000215 socket",
                                  "1000206 server",
                                  "1000204 done",
                                  "1000561 Error",
                                  "1000554 writeRequest",
                                  "1000003 net"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "called",
                                          "thedef": "1000205 called"
                                        },
                                        "value": {
                                          "_class": "AST_False"
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000206 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000208 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000209 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000207 arguments",
                                                "1000208 req",
                                                "1000209 res",
                                                "1000210 data"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000208 req",
                                                "1000001 assert",
                                                "1000210 data",
                                                "1000205 called",
                                                "1000215 socket",
                                                "1000206 server",
                                                "1000204 done",
                                                "1000561 Error",
                                                "1000209 res",
                                                "1000554 writeRequest"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Var",
                                                  "definitions": [
                                                    {
                                                      "_class": "AST_VarDef",
                                                      "name": {
                                                        "_class": "AST_SymbolVar",
                                                        "name": "data",
                                                        "thedef": "1000210 data"
                                                      },
                                                      "value": {
                                                        "_class": "AST_String",
                                                        "value": "",
                                                        "quote": "'"
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000208 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000212 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000211 arguments",
                                                          "1000212 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000212 err",
                                                          "1000210 data",
                                                          "1000205 called",
                                                          "1000215 socket",
                                                          "1000206 server",
                                                          "1000204 done",
                                                          "1000208 req",
                                                          "1000561 Error",
                                                          "1000209 res",
                                                          "1000554 writeRequest"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000212 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "data",
                                                                  "thedef": "1000210 data"
                                                                },
                                                                {
                                                                  "_class": "AST_String",
                                                                  "value": "A",
                                                                  "quote": "'"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "called",
                                                              "thedef": "1000205 called"
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_BlockStatement",
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000215 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000206 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "done",
                                                                      "thedef": "1000204 done"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Conditional",
                                                                        "condition": {
                                                                          "_class": "AST_Binary",
                                                                          "operator": "!==",
                                                                          "left": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "called",
                                                                            "thedef": "1000205 called"
                                                                          },
                                                                          "right": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "req",
                                                                            "thedef": "1000208 req"
                                                                          }
                                                                        },
                                                                        "consequent": {
                                                                          "_class": "AST_Null"
                                                                        },
                                                                        "alternative": {
                                                                          "_class": "AST_New",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "Error",
                                                                            "thedef": "1000561 Error"
                                                                          },
                                                                          "args": [
                                                                            {
                                                                              "_class": "AST_String",
                                                                              "value": "fired twice on same req",
                                                                              "quote": "'"
                                                                            }
                                                                          ]
                                                                        }
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_Return",
                                                                  "value": null
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Assign",
                                                              "operator": "=",
                                                              "left": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "called",
                                                                "thedef": "1000205 called"
                                                              },
                                                              "right": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "req",
                                                                "thedef": "1000208 req"
                                                              }
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000209 res"
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "writeRequest",
                                                                "thedef": "1000554 writeRequest"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "socket",
                                                                  "thedef": "1000215 socket"
                                                                },
                                                                {
                                                                  "_class": "AST_True"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000208 req"
                                                      },
                                                      "property": "setEncoding"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "utf8",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000208 req"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "data",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "str",
                                                            "thedef": "1000214 str"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000213 arguments",
                                                          "1000214 str"
                                                        ],
                                                        "enclosed": [
                                                          "1000210 data",
                                                          "1000214 str"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Assign",
                                                              "operator": "+=",
                                                              "left": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "data",
                                                                "thedef": "1000210 data"
                                                              },
                                                              "right": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "str",
                                                                "thedef": "1000214 str"
                                                              }
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000215 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "1\r\nA\r\n",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000215 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "0\r\n\r\n",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000215 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000206 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000216 arguments"
                                          ],
                                          "enclosed": [
                                            "1000215 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000215 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000217 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when request errors",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000218 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000543 noop",
                        "1000003 net",
                        "1000554 writeRequest"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire with error",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000220 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000219 arguments",
                                  "1000220 done",
                                  "1000221 server",
                                  "1000227 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000221 server",
                                  "1000220 done",
                                  "1000227 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000221 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000223 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000224 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000222 arguments",
                                                "1000223 req",
                                                "1000224 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000223 req",
                                                "1000001 assert",
                                                "1000221 server",
                                                "1000220 done",
                                                "1000227 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000223 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000226 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000225 arguments",
                                                          "1000226 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000226 err",
                                                          "1000221 server",
                                                          "1000220 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000226 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000221 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000220 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000227 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000227 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000227 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000221 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000228 arguments"
                                          ],
                                          "enclosed": [
                                            "1000227 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000227 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000229 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should include the request object",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000231 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000230 arguments",
                                  "1000231 done",
                                  "1000232 server",
                                  "1000239 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000232 server",
                                  "1000231 done",
                                  "1000239 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000232 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000234 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000235 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000233 arguments",
                                                "1000234 req",
                                                "1000235 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000234 req",
                                                "1000001 assert",
                                                "1000232 server",
                                                "1000231 done",
                                                "1000239 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000234 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000237 err"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "msg",
                                                            "thedef": "1000238 msg"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000236 arguments",
                                                          "1000237 err",
                                                          "1000238 msg"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000237 err",
                                                          "1000238 msg",
                                                          "1000234 req",
                                                          "1000232 server",
                                                          "1000231 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000237 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "strictEqual"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "msg",
                                                                  "thedef": "1000238 msg"
                                                                },
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000234 req"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000232 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000231 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000239 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000239 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000239 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000232 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000240 arguments"
                                          ],
                                          "enclosed": [
                                            "1000239 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000239 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000241 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when requests pipelined",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000242 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000554 writeRequest",
                        "1000003 net"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should handle socket errors",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000244 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000243 arguments",
                                  "1000244 done",
                                  "1000245 count",
                                  "1000246 server",
                                  "1000252 socket",
                                  "1000253 wait"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000245 count",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000253 wait",
                                  "1000246 server",
                                  "1000244 done",
                                  "1000554 writeRequest",
                                  "1000252 socket",
                                  "1000003 net"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "count",
                                          "thedef": "1000245 count"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 0
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000246 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000248 req"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000247 arguments",
                                                "1000248 req",
                                                "1000249 num"
                                              ],
                                              "enclosed": [
                                                "1000245 count",
                                                "1000004 onFinished",
                                                "1000248 req",
                                                "1000001 assert",
                                                "1000253 wait",
                                                "1000246 server",
                                                "1000244 done",
                                                "1000249 num",
                                                "1000554 writeRequest",
                                                "1000252 socket"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Var",
                                                  "definitions": [
                                                    {
                                                      "_class": "AST_VarDef",
                                                      "name": {
                                                        "_class": "AST_SymbolVar",
                                                        "name": "num",
                                                        "thedef": "1000249 num"
                                                      },
                                                      "value": {
                                                        "_class": "AST_UnaryPrefix",
                                                        "operator": "++",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "count",
                                                          "thedef": "1000245 count"
                                                        }
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000248 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000251 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000250 arguments",
                                                          "1000251 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000251 err",
                                                          "1000253 wait",
                                                          "1000246 server",
                                                          "1000244 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000251 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_If",
                                                            "condition": {
                                                              "_class": "AST_UnaryPrefix",
                                                              "operator": "!",
                                                              "expression": {
                                                                "_class": "AST_UnaryPrefix",
                                                                "operator": "--",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "wait",
                                                                  "thedef": "1000253 wait"
                                                                }
                                                              }
                                                            },
                                                            "alternative": null,
                                                            "body": {
                                                              "_class": "AST_SimpleStatement",
                                                              "body": {
                                                                "_class": "AST_Call",
                                                                "expression": {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "server",
                                                                    "thedef": "1000246 server"
                                                                  },
                                                                  "property": "close"
                                                                },
                                                                "args": [
                                                                  {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "done",
                                                                    "thedef": "1000244 done"
                                                                  }
                                                                ]
                                                              }
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_If",
                                                  "condition": {
                                                    "_class": "AST_Binary",
                                                    "operator": "===",
                                                    "left": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "num",
                                                      "thedef": "1000249 num"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 1
                                                    }
                                                  },
                                                  "alternative": {
                                                    "_class": "AST_BlockStatement",
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000252 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "W",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "req",
                                                              "thedef": "1000248 req"
                                                            },
                                                            "property": "resume"
                                                          },
                                                          "args": []
                                                        }
                                                      }
                                                    ]
                                                  },
                                                  "body": {
                                                    "_class": "AST_BlockStatement",
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "writeRequest",
                                                            "thedef": "1000554 writeRequest"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000252 socket"
                                                            },
                                                            {
                                                              "_class": "AST_True"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "req",
                                                              "thedef": "1000248 req"
                                                            },
                                                            "property": "pause"
                                                          },
                                                          "args": []
                                                        }
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000252 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "wait",
                                          "thedef": "1000253 wait"
                                        },
                                        "value": {
                                          "_class": "AST_Number",
                                          "value": 3
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000246 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000254 arguments"
                                          ],
                                          "enclosed": [
                                            "1000252 socket",
                                            "1000003 net",
                                            "1000554 writeRequest",
                                            "1000001 assert",
                                            "1000245 count",
                                            "1000253 wait",
                                            "1000246 server",
                                            "1000244 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000252 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000255 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000252 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "close",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000256 arguments"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000245 count",
                                                      "1000253 wait",
                                                      "1000246 server",
                                                      "1000244 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "count",
                                                              "thedef": "1000245 count"
                                                            },
                                                            {
                                                              "_class": "AST_Number",
                                                              "value": 2
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_If",
                                                        "condition": {
                                                          "_class": "AST_UnaryPrefix",
                                                          "operator": "!",
                                                          "expression": {
                                                            "_class": "AST_UnaryPrefix",
                                                            "operator": "--",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "wait",
                                                              "thedef": "1000253 wait"
                                                            }
                                                          }
                                                        },
                                                        "alternative": null,
                                                        "body": {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_Dot",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "server",
                                                                "thedef": "1000246 server"
                                                              },
                                                              "property": "close"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "done",
                                                                "thedef": "1000244 done"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the request aborts",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000257 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000535 close",
                        "1000560 setTimeout",
                        "1000543 noop"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should execute the callback",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000259 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000258 arguments",
                                  "1000259 done",
                                  "1000260 client",
                                  "1000261 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000535 close",
                                  "1000261 server",
                                  "1000259 done",
                                  "1000560 setTimeout",
                                  "1000260 client",
                                  "1000543 noop"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000260 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000261 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000263 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000264 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000262 arguments",
                                                "1000263 req",
                                                "1000264 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000263 req",
                                                "1000535 close",
                                                "1000261 server",
                                                "1000259 done",
                                                "1000560 setTimeout",
                                                "1000260 client"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000263 req"
                                                      },
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "close",
                                                          "thedef": "1000535 close"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "server",
                                                            "thedef": "1000261 server"
                                                          },
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "done",
                                                            "thedef": "1000259 done"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "client",
                                                              "thedef": "1000260 client"
                                                            },
                                                            "property": "abort"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "client",
                                                            "thedef": "1000260 client"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000261 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000265 arguments",
                                            "1000266 port"
                                          ],
                                          "enclosed": [
                                            "1000260 client",
                                            "1000002 http",
                                            "1000266 port",
                                            "1000543 noop"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000266 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000260 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "get"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Binary",
                                                      "operator": "+",
                                                      "left": {
                                                        "_class": "AST_String",
                                                        "value": "http://127.0.0.1:",
                                                        "quote": "'"
                                                      },
                                                      "right": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "port",
                                                        "thedef": "1000266 port"
                                                      }
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000260 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "error",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "noop",
                                                    "thedef": "1000543 noop"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when calling many times on same request",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000267 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000526 captureStderr",
                        "1000004 onFinished",
                        "1000543 noop",
                        "1000001 assert"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should not print warnings",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000269 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000268 arguments",
                                  "1000269 done",
                                  "1000270 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000526 captureStderr",
                                  "1000004 onFinished",
                                  "1000543 noop",
                                  "1000269 done",
                                  "1000001 assert",
                                  "1000270 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000270 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000272 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000273 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000271 arguments",
                                                "1000272 req",
                                                "1000273 res",
                                                "1000274 stderr"
                                              ],
                                              "enclosed": [
                                                "1000526 captureStderr",
                                                "1000004 onFinished",
                                                "1000272 req",
                                                "1000543 noop",
                                                "1000269 done",
                                                "1000001 assert",
                                                "1000274 stderr",
                                                "1000273 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_Var",
                                                  "definitions": [
                                                    {
                                                      "_class": "AST_VarDef",
                                                      "name": {
                                                        "_class": "AST_SymbolVar",
                                                        "name": "stderr",
                                                        "thedef": "1000274 stderr"
                                                      },
                                                      "value": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_SymbolRef",
                                                          "name": "captureStderr",
                                                          "thedef": "1000526 captureStderr"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_Function",
                                                            "name": null,
                                                            "argnames": [],
                                                            "uses_arguments": false,
                                                            "variables": [
                                                              "1000275 arguments",
                                                              "1000276 i"
                                                            ],
                                                            "enclosed": [
                                                              "1000276 i",
                                                              "1000004 onFinished",
                                                              "1000272 req",
                                                              "1000543 noop"
                                                            ],
                                                            "body": [
                                                              {
                                                                "_class": "AST_For",
                                                                "init": {
                                                                  "_class": "AST_Var",
                                                                  "definitions": [
                                                                    {
                                                                      "_class": "AST_VarDef",
                                                                      "name": {
                                                                        "_class": "AST_SymbolVar",
                                                                        "name": "i",
                                                                        "thedef": "1000276 i"
                                                                      },
                                                                      "value": {
                                                                        "_class": "AST_Number",
                                                                        "value": 0
                                                                      }
                                                                    }
                                                                  ]
                                                                },
                                                                "condition": {
                                                                  "_class": "AST_Binary",
                                                                  "operator": "<",
                                                                  "left": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "i",
                                                                    "thedef": "1000276 i"
                                                                  },
                                                                  "right": {
                                                                    "_class": "AST_Number",
                                                                    "value": 400
                                                                  }
                                                                },
                                                                "step": {
                                                                  "_class": "AST_UnaryPostfix",
                                                                  "operator": "++",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "i",
                                                                    "thedef": "1000276 i"
                                                                  }
                                                                },
                                                                "body": {
                                                                  "_class": "AST_BlockStatement",
                                                                  "body": [
                                                                    {
                                                                      "_class": "AST_SimpleStatement",
                                                                      "body": {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_SymbolRef",
                                                                          "name": "onFinished",
                                                                          "thedef": "1000004 onFinished"
                                                                        },
                                                                        "args": [
                                                                          {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "req",
                                                                            "thedef": "1000272 req"
                                                                          },
                                                                          {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "noop",
                                                                            "thedef": "1000543 noop"
                                                                          }
                                                                        ]
                                                                      }
                                                                    }
                                                                  ]
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        ]
                                                      }
                                                    }
                                                  ]
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000272 req"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "done",
                                                        "thedef": "1000269 done"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "strictEqual"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "stderr",
                                                        "thedef": "1000274 stderr"
                                                      },
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000273 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000270 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000277 arguments",
                                            "1000278 port"
                                          ],
                                          "enclosed": [
                                            "1000002 http",
                                            "1000278 port",
                                            "1000270 server"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000278 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "http",
                                                    "thedef": "1000002 http"
                                                  },
                                                  "property": "get"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Binary",
                                                    "operator": "+",
                                                    "left": {
                                                      "_class": "AST_String",
                                                      "value": "http://127.0.0.1:",
                                                      "quote": "'"
                                                    },
                                                    "right": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "port",
                                                      "thedef": "1000278 port"
                                                    }
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000280 res"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000279 arguments",
                                                      "1000280 res"
                                                    ],
                                                    "enclosed": [
                                                      "1000280 res",
                                                      "1000270 server"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000280 res"
                                                            },
                                                            "property": "resume"
                                                          },
                                                          "args": []
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "res",
                                                              "thedef": "1000280 res"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "end",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Dot",
                                                                  "expression": {
                                                                    "_class": "AST_SymbolRef",
                                                                    "name": "server",
                                                                    "thedef": "1000270 server"
                                                                  },
                                                                  "property": "close"
                                                                },
                                                                "property": "bind"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000270 server"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when CONNECT method",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000281 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000563 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when request finishes",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000283 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000282 arguments",
                                  "1000283 done",
                                  "1000284 client",
                                  "1000285 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000285 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000284 client",
                                  "1000283 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000284 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000285 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000287 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000288 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000286 arguments",
                                                "1000287 req",
                                                "1000288 res"
                                              ],
                                              "enclosed": [
                                                "1000288 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000288 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000288 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000285 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "connect",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000290 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000291 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000292 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000289 arguments",
                                            "1000290 req",
                                            "1000291 socket",
                                            "1000292 bodyHead",
                                            "1000293 data"
                                          ],
                                          "enclosed": [
                                            "1000292 bodyHead",
                                            "1000004 onFinished",
                                            "1000290 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000293 data",
                                            "1000291 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000293 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000292 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000290 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000295 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000294 arguments",
                                                      "1000295 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000295 err",
                                                      "1000563 Buffer",
                                                      "1000293 data",
                                                      "1000291 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000295 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000293 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000291 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000297 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000296 arguments",
                                                                "1000297 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000297 chunk",
                                                                "1000291 socket"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000297 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "ping",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000291 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000291 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 200 OK\r\n\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000290 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000299 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000298 arguments",
                                                      "1000299 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000293 data",
                                                      "1000299 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000293 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000299 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000285 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000300 arguments"
                                          ],
                                          "enclosed": [
                                            "1000284 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000285 server",
                                            "1000283 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000284 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "method",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "CONNECT",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "path",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1:80",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000284 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "connect",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000302 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000303 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000304 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000301 arguments",
                                                      "1000302 res",
                                                      "1000303 socket",
                                                      "1000304 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000303 socket",
                                                      "1000001 assert",
                                                      "1000285 server",
                                                      "1000283 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000303 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000303 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000306 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000305 arguments",
                                                                "1000306 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000306 chunk",
                                                                "1000303 socket",
                                                                "1000285 server",
                                                                "1000283 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000306 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000303 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000285 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000283 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000284 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when called after finish",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000308 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000307 arguments",
                                  "1000308 done",
                                  "1000309 client",
                                  "1000310 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000310 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000309 client",
                                  "1000308 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000309 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000310 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000312 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000313 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000311 arguments",
                                                "1000312 req",
                                                "1000313 res"
                                              ],
                                              "enclosed": [
                                                "1000313 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000313 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000313 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000310 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "connect",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000315 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000316 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000317 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000314 arguments",
                                            "1000315 req",
                                            "1000316 socket",
                                            "1000317 bodyHead",
                                            "1000318 data"
                                          ],
                                          "enclosed": [
                                            "1000317 bodyHead",
                                            "1000004 onFinished",
                                            "1000315 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000318 data",
                                            "1000316 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000318 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000317 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000315 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000320 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000319 arguments",
                                                      "1000320 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000320 err",
                                                      "1000563 Buffer",
                                                      "1000318 data",
                                                      "1000316 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000320 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000318 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000316 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 200 OK\r\n\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000316 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000322 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000321 arguments",
                                                      "1000322 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000322 chunk",
                                                      "1000004 onFinished",
                                                      "1000315 req",
                                                      "1000316 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000322 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "onFinished",
                                                            "thedef": "1000004 onFinished"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "req",
                                                              "thedef": "1000315 req"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000323 arguments"
                                                              ],
                                                              "enclosed": [
                                                                "1000316 socket"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000316 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000315 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000325 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000324 arguments",
                                                      "1000325 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000318 data",
                                                      "1000325 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000318 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000325 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000310 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000326 arguments"
                                          ],
                                          "enclosed": [
                                            "1000309 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000310 server",
                                            "1000308 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000309 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "method",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "CONNECT",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "path",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1:80",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000309 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "connect",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000328 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000329 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000330 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000327 arguments",
                                                      "1000328 res",
                                                      "1000329 socket",
                                                      "1000330 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000329 socket",
                                                      "1000001 assert",
                                                      "1000310 server",
                                                      "1000308 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000329 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000329 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000332 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000331 arguments",
                                                                "1000332 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000332 chunk",
                                                                "1000329 socket",
                                                                "1000310 server",
                                                                "1000308 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000332 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000329 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000310 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000308 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000309 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when Upgrade request",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000333 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000563 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when request finishes",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000335 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000334 arguments",
                                  "1000335 done",
                                  "1000336 client",
                                  "1000337 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000337 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000336 client",
                                  "1000335 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000336 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000337 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000339 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000340 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000338 arguments",
                                                "1000339 req",
                                                "1000340 res"
                                              ],
                                              "enclosed": [
                                                "1000340 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000340 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000340 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000337 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "upgrade",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000342 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000343 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000344 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000341 arguments",
                                            "1000342 req",
                                            "1000343 socket",
                                            "1000344 bodyHead",
                                            "1000345 data"
                                          ],
                                          "enclosed": [
                                            "1000344 bodyHead",
                                            "1000004 onFinished",
                                            "1000342 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000345 data",
                                            "1000343 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000345 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000344 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000342 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000347 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000346 arguments",
                                                      "1000347 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000347 err",
                                                      "1000563 Buffer",
                                                      "1000345 data",
                                                      "1000343 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000347 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000345 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000343 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000349 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000348 arguments",
                                                                "1000349 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000349 chunk",
                                                                "1000343 socket"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000349 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "ping",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000343 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000343 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 101 Switching Protocols\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000343 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Connection: Upgrade\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000343 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Upgrade: Raw\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000343 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000342 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000351 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000350 arguments",
                                                      "1000351 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000345 data",
                                                      "1000351 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000345 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000351 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000337 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000352 arguments"
                                          ],
                                          "enclosed": [
                                            "1000336 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000337 server",
                                            "1000335 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000336 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "headers",
                                                          "value": {
                                                            "_class": "AST_Object",
                                                            "properties": [
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Connection",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Upgrade",
                                                                  "quote": "'"
                                                                }
                                                              },
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Upgrade",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Raw",
                                                                  "quote": "'"
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000336 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "upgrade",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000354 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000355 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000356 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000353 arguments",
                                                      "1000354 res",
                                                      "1000355 socket",
                                                      "1000356 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000355 socket",
                                                      "1000001 assert",
                                                      "1000337 server",
                                                      "1000335 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000355 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000355 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000358 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000357 arguments",
                                                                "1000358 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000358 chunk",
                                                                "1000355 socket",
                                                                "1000337 server",
                                                                "1000335 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000358 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000355 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000337 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000335 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000336 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should fire when called after finish",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000360 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000359 arguments",
                                  "1000360 done",
                                  "1000361 client",
                                  "1000362 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000362 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000361 client",
                                  "1000360 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000361 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000362 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000364 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000365 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000363 arguments",
                                                "1000364 req",
                                                "1000365 res"
                                              ],
                                              "enclosed": [
                                                "1000365 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000365 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000365 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000362 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "upgrade",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000367 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000368 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000369 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000366 arguments",
                                            "1000367 req",
                                            "1000368 socket",
                                            "1000369 bodyHead",
                                            "1000370 data"
                                          ],
                                          "enclosed": [
                                            "1000369 bodyHead",
                                            "1000004 onFinished",
                                            "1000367 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000370 data",
                                            "1000368 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000370 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000369 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000367 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000372 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000371 arguments",
                                                      "1000372 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000372 err",
                                                      "1000563 Buffer",
                                                      "1000370 data",
                                                      "1000368 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000372 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000370 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000368 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 101 Switching Protocols\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000368 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Connection: Upgrade\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000368 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Upgrade: Raw\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000368 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000368 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000374 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000373 arguments",
                                                      "1000374 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000374 chunk",
                                                      "1000004 onFinished",
                                                      "1000367 req",
                                                      "1000368 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000374 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "onFinished",
                                                            "thedef": "1000004 onFinished"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "req",
                                                              "thedef": "1000367 req"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000375 arguments"
                                                              ],
                                                              "enclosed": [
                                                                "1000368 socket"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000368 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000367 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000377 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000376 arguments",
                                                      "1000377 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000370 data",
                                                      "1000377 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000370 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000377 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000362 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000378 arguments"
                                          ],
                                          "enclosed": [
                                            "1000361 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000362 server",
                                            "1000360 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000361 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "headers",
                                                          "value": {
                                                            "_class": "AST_Object",
                                                            "properties": [
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Connection",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Upgrade",
                                                                  "quote": "'"
                                                                }
                                                              },
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Upgrade",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Raw",
                                                                  "quote": "'"
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000361 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "upgrade",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000380 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000381 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000382 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000379 arguments",
                                                      "1000380 res",
                                                      "1000381 socket",
                                                      "1000382 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000381 socket",
                                                      "1000001 assert",
                                                      "1000362 server",
                                                      "1000360 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000381 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000381 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000384 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000383 arguments",
                                                                "1000384 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000384 chunk",
                                                                "1000381 socket",
                                                                "1000362 server",
                                                                "1000360 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000384 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000381 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000362 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000360 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000361 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    {
      "_class": "AST_SimpleStatement",
      "body": {
        "_class": "AST_Call",
        "expression": {
          "_class": "AST_SymbolRef",
          "name": "describe",
          "thedef": "1000558 describe"
        },
        "args": [
          {
            "_class": "AST_String",
            "value": "isFinished(req)",
            "quote": "'"
          },
          {
            "_class": "AST_Function",
            "name": null,
            "argnames": [],
            "uses_arguments": false,
            "variables": [
              "1000385 arguments"
            ],
            "enclosed": [
              "1000559 it",
              "1000001 assert",
              "1000004 onFinished",
              "1000562 undefined",
              "1000002 http",
              "1000545 sendGet",
              "1000558 describe",
              "1000560 setTimeout",
              "1000543 noop",
              "1000003 net",
              "1000554 writeRequest",
              "1000563 Buffer"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should return undefined for unknown object",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000386 arguments"
                      ],
                      "enclosed": [
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000562 undefined"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_SymbolRef",
                                "name": "assert",
                                "thedef": "1000001 assert"
                              },
                              "property": "strictEqual"
                            },
                            "args": [
                              {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "onFinished",
                                    "thedef": "1000004 onFinished"
                                  },
                                  "property": "isFinished"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Object",
                                    "properties": []
                                  }
                                ]
                              },
                              {
                                "_class": "AST_SymbolRef",
                                "name": "undefined",
                                "thedef": "1000562 undefined"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should be false before request finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "done",
                          "thedef": "1000388 done"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000387 arguments",
                        "1000388 done",
                        "1000389 server"
                      ],
                      "enclosed": [
                        "1000002 http",
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000388 done",
                        "1000545 sendGet",
                        "1000389 server"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "server",
                                "thedef": "1000389 server"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "http",
                                    "thedef": "1000002 http"
                                  },
                                  "property": "createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "req",
                                        "thedef": "1000391 req"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "res",
                                        "thedef": "1000392 res"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000390 arguments",
                                      "1000391 req",
                                      "1000392 res"
                                    ],
                                    "enclosed": [
                                      "1000001 assert",
                                      "1000004 onFinished",
                                      "1000391 req",
                                      "1000392 res",
                                      "1000388 done"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "assert",
                                              "thedef": "1000001 assert"
                                            },
                                            "property": "ok"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_UnaryPrefix",
                                              "operator": "!",
                                              "expression": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "onFinished",
                                                    "thedef": "1000004 onFinished"
                                                  },
                                                  "property": "isFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000391 req"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "req",
                                              "thedef": "1000391 req"
                                            },
                                            "property": "resume"
                                          },
                                          "args": []
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "res",
                                              "thedef": "1000392 res"
                                            },
                                            "property": "end"
                                          },
                                          "args": []
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "done",
                                            "thedef": "1000388 done"
                                          },
                                          "args": []
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "sendGet",
                              "thedef": "1000545 sendGet"
                            },
                            "args": [
                              {
                                "_class": "AST_SymbolRef",
                                "name": "server",
                                "thedef": "1000389 server"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "it",
                    "thedef": "1000559 it"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "should be true after request finishes",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "done",
                          "thedef": "1000394 done"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000393 arguments",
                        "1000394 done",
                        "1000395 server"
                      ],
                      "enclosed": [
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000394 done",
                        "1000545 sendGet",
                        "1000395 server"
                      ],
                      "body": [
                        {
                          "_class": "AST_Var",
                          "definitions": [
                            {
                              "_class": "AST_VarDef",
                              "name": {
                                "_class": "AST_SymbolVar",
                                "name": "server",
                                "thedef": "1000395 server"
                              },
                              "value": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "http",
                                    "thedef": "1000002 http"
                                  },
                                  "property": "createServer"
                                },
                                "args": [
                                  {
                                    "_class": "AST_Function",
                                    "name": null,
                                    "argnames": [
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "req",
                                        "thedef": "1000397 req"
                                      },
                                      {
                                        "_class": "AST_SymbolFunarg",
                                        "name": "res",
                                        "thedef": "1000398 res"
                                      }
                                    ],
                                    "uses_arguments": false,
                                    "variables": [
                                      "1000396 arguments",
                                      "1000397 req",
                                      "1000398 res"
                                    ],
                                    "enclosed": [
                                      "1000004 onFinished",
                                      "1000397 req",
                                      "1000001 assert",
                                      "1000394 done",
                                      "1000398 res"
                                    ],
                                    "body": [
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_SymbolRef",
                                            "name": "onFinished",
                                            "thedef": "1000004 onFinished"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_SymbolRef",
                                              "name": "req",
                                              "thedef": "1000397 req"
                                            },
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "err",
                                                  "thedef": "1000400 err"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000399 arguments",
                                                "1000400 err"
                                              ],
                                              "enclosed": [
                                                "1000001 assert",
                                                "1000400 err",
                                                "1000004 onFinished",
                                                "1000397 req",
                                                "1000394 done"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "ifError"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "err",
                                                        "thedef": "1000400 err"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "ok"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "onFinished",
                                                            "thedef": "1000004 onFinished"
                                                          },
                                                          "property": "isFinished"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "req",
                                                            "thedef": "1000397 req"
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "done",
                                                      "thedef": "1000394 done"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "req",
                                              "thedef": "1000397 req"
                                            },
                                            "property": "resume"
                                          },
                                          "args": []
                                        }
                                      },
                                      {
                                        "_class": "AST_SimpleStatement",
                                        "body": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "res",
                                              "thedef": "1000398 res"
                                            },
                                            "property": "end"
                                          },
                                          "args": []
                                        }
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "sendGet",
                              "thedef": "1000545 sendGet"
                            },
                            "args": [
                              {
                                "_class": "AST_SymbolRef",
                                "name": "server",
                                "thedef": "1000395 server"
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when request data buffered",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000401 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000560 setTimeout",
                        "1000545 sendGet"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be false before request finishes",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000403 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000402 arguments",
                                  "1000403 done",
                                  "1000404 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000001 assert",
                                  "1000004 onFinished",
                                  "1000560 setTimeout",
                                  "1000403 done",
                                  "1000545 sendGet",
                                  "1000404 server"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000404 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000406 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000407 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000405 arguments",
                                                "1000406 req",
                                                "1000407 res"
                                              ],
                                              "enclosed": [
                                                "1000001 assert",
                                                "1000004 onFinished",
                                                "1000406 req",
                                                "1000560 setTimeout",
                                                "1000407 res",
                                                "1000403 done"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "assert",
                                                        "thedef": "1000001 assert"
                                                      },
                                                      "property": "ok"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_UnaryPrefix",
                                                        "operator": "!",
                                                        "expression": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "onFinished",
                                                              "thedef": "1000004 onFinished"
                                                            },
                                                            "property": "isFinished"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "req",
                                                              "thedef": "1000406 req"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000406 req"
                                                      },
                                                      "property": "pause"
                                                    },
                                                    "args": []
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000408 arguments"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000004 onFinished",
                                                          "1000406 req",
                                                          "1000407 res",
                                                          "1000403 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_UnaryPrefix",
                                                                  "operator": "!",
                                                                  "expression": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "onFinished",
                                                                        "thedef": "1000004 onFinished"
                                                                      },
                                                                      "property": "isFinished"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "req",
                                                                        "thedef": "1000406 req"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000406 req"
                                                                },
                                                                "property": "resume"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "res",
                                                                  "thedef": "1000407 res"
                                                                },
                                                                "property": "end"
                                                              },
                                                              "args": []
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_SymbolRef",
                                                                "name": "done",
                                                                "thedef": "1000403 done"
                                                              },
                                                              "args": []
                                                            }
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 10
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_SymbolRef",
                                        "name": "sendGet",
                                        "thedef": "1000545 sendGet"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000404 server"
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when request errors",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000409 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000543 noop",
                        "1000003 net",
                        "1000554 writeRequest"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should return true",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000411 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000410 arguments",
                                  "1000411 done",
                                  "1000412 server",
                                  "1000418 socket"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000412 server",
                                  "1000411 done",
                                  "1000418 socket",
                                  "1000543 noop",
                                  "1000003 net",
                                  "1000554 writeRequest"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000412 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000414 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000415 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000413 arguments",
                                                "1000414 req",
                                                "1000415 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000414 req",
                                                "1000001 assert",
                                                "1000412 server",
                                                "1000411 done",
                                                "1000418 socket",
                                                "1000543 noop"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000414 req"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000417 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000416 arguments",
                                                          "1000417 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000417 err",
                                                          "1000004 onFinished",
                                                          "1000414 req",
                                                          "1000412 server",
                                                          "1000411 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000417 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "onFinished",
                                                                      "thedef": "1000004 onFinished"
                                                                    },
                                                                    "property": "isFinished"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "req",
                                                                      "thedef": "1000414 req"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000412 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000411 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000418 socket"
                                                      },
                                                      "property": "on"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "error",
                                                        "quote": "'"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "noop",
                                                        "thedef": "1000543 noop"
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "socket",
                                                        "thedef": "1000418 socket"
                                                      },
                                                      "property": "write"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_String",
                                                        "value": "W",
                                                        "quote": "'"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "socket",
                                          "thedef": "1000418 socket"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000412 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000419 arguments"
                                          ],
                                          "enclosed": [
                                            "1000418 socket",
                                            "1000003 net",
                                            "1000554 writeRequest"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "socket",
                                                  "thedef": "1000418 socket"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "net",
                                                      "thedef": "1000003 net"
                                                    },
                                                    "property": "connect"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_This",
                                                            "name": "this"
                                                          },
                                                          "property": "address"
                                                        },
                                                        "args": []
                                                      },
                                                      "property": "port"
                                                    },
                                                    {
                                                      "_class": "AST_Function",
                                                      "name": null,
                                                      "argnames": [],
                                                      "uses_arguments": false,
                                                      "variables": [
                                                        "1000420 arguments"
                                                      ],
                                                      "enclosed": [
                                                        "1000554 writeRequest"
                                                      ],
                                                      "body": [
                                                        {
                                                          "_class": "AST_SimpleStatement",
                                                          "body": {
                                                            "_class": "AST_Call",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "writeRequest",
                                                              "thedef": "1000554 writeRequest"
                                                            },
                                                            "args": [
                                                              {
                                                                "_class": "AST_This",
                                                                "name": "this"
                                                              },
                                                              {
                                                                "_class": "AST_True"
                                                              }
                                                            ]
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when the request aborts",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000421 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000004 onFinished",
                        "1000001 assert",
                        "1000560 setTimeout",
                        "1000543 noop"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should return true",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000423 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000422 arguments",
                                  "1000423 done",
                                  "1000424 client",
                                  "1000425 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000425 server",
                                  "1000423 done",
                                  "1000560 setTimeout",
                                  "1000424 client",
                                  "1000543 noop"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000424 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000425 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000427 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000428 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000426 arguments",
                                                "1000427 req",
                                                "1000428 res"
                                              ],
                                              "enclosed": [
                                                "1000004 onFinished",
                                                "1000428 res",
                                                "1000001 assert",
                                                "1000427 req",
                                                "1000425 server",
                                                "1000423 done",
                                                "1000560 setTimeout",
                                                "1000424 client"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "onFinished",
                                                      "thedef": "1000004 onFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000428 res"
                                                      },
                                                      {
                                                        "_class": "AST_Function",
                                                        "name": null,
                                                        "argnames": [
                                                          {
                                                            "_class": "AST_SymbolFunarg",
                                                            "name": "err",
                                                            "thedef": "1000430 err"
                                                          }
                                                        ],
                                                        "uses_arguments": false,
                                                        "variables": [
                                                          "1000429 arguments",
                                                          "1000430 err"
                                                        ],
                                                        "enclosed": [
                                                          "1000001 assert",
                                                          "1000430 err",
                                                          "1000004 onFinished",
                                                          "1000427 req",
                                                          "1000425 server",
                                                          "1000423 done"
                                                        ],
                                                        "body": [
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ifError"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "err",
                                                                  "thedef": "1000430 err"
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "assert",
                                                                  "thedef": "1000001 assert"
                                                                },
                                                                "property": "ok"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "onFinished",
                                                                      "thedef": "1000004 onFinished"
                                                                    },
                                                                    "property": "isFinished"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "req",
                                                                      "thedef": "1000427 req"
                                                                    }
                                                                  ]
                                                                }
                                                              ]
                                                            }
                                                          },
                                                          {
                                                            "_class": "AST_SimpleStatement",
                                                            "body": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "server",
                                                                  "thedef": "1000425 server"
                                                                },
                                                                "property": "close"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "done",
                                                                  "thedef": "1000423 done"
                                                                }
                                                              ]
                                                            }
                                                          }
                                                        ]
                                                      }
                                                    ]
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "setTimeout",
                                                      "thedef": "1000560 setTimeout"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_Call",
                                                        "expression": {
                                                          "_class": "AST_Dot",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "client",
                                                              "thedef": "1000424 client"
                                                            },
                                                            "property": "abort"
                                                          },
                                                          "property": "bind"
                                                        },
                                                        "args": [
                                                          {
                                                            "_class": "AST_SymbolRef",
                                                            "name": "client",
                                                            "thedef": "1000424 client"
                                                          }
                                                        ]
                                                      },
                                                      {
                                                        "_class": "AST_Number",
                                                        "value": 0
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000425 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000431 arguments",
                                            "1000432 port"
                                          ],
                                          "enclosed": [
                                            "1000424 client",
                                            "1000002 http",
                                            "1000432 port",
                                            "1000543 noop"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "port",
                                                    "thedef": "1000432 port"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_Call",
                                                      "expression": {
                                                        "_class": "AST_Dot",
                                                        "expression": {
                                                          "_class": "AST_This",
                                                          "name": "this"
                                                        },
                                                        "property": "address"
                                                      },
                                                      "args": []
                                                    },
                                                    "property": "port"
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000424 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "get"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Binary",
                                                      "operator": "+",
                                                      "left": {
                                                        "_class": "AST_String",
                                                        "value": "http://127.0.0.1:",
                                                        "quote": "'"
                                                      },
                                                      "right": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "port",
                                                        "thedef": "1000432 port"
                                                      }
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000424 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "error",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "noop",
                                                    "thedef": "1000543 noop"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when CONNECT method",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000433 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000563 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be true immediately",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000435 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000434 arguments",
                                  "1000435 done",
                                  "1000436 client",
                                  "1000437 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000437 server",
                                  "1000001 assert",
                                  "1000004 onFinished",
                                  "1000436 client",
                                  "1000435 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000436 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000437 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000439 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000440 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000438 arguments",
                                                "1000439 req",
                                                "1000440 res"
                                              ],
                                              "enclosed": [
                                                "1000440 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000440 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000440 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000437 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "connect",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000442 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000443 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000444 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000441 arguments",
                                            "1000442 req",
                                            "1000443 socket",
                                            "1000444 bodyHead"
                                          ],
                                          "enclosed": [
                                            "1000001 assert",
                                            "1000004 onFinished",
                                            "1000442 req",
                                            "1000444 bodyHead",
                                            "1000443 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "assert",
                                                    "thedef": "1000001 assert"
                                                  },
                                                  "property": "ok"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "onFinished",
                                                        "thedef": "1000004 onFinished"
                                                      },
                                                      "property": "isFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000442 req"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "assert",
                                                    "thedef": "1000001 assert"
                                                  },
                                                  "property": "strictEqual"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "bodyHead",
                                                      "thedef": "1000444 bodyHead"
                                                    },
                                                    "property": "length"
                                                  },
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 0
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000442 req"
                                                  },
                                                  "property": "resume"
                                                },
                                                "args": []
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000443 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000446 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000445 arguments",
                                                      "1000446 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000446 chunk",
                                                      "1000443 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000446 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000443 socket"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "pong",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000443 socket"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "HTTP/1.1 200 OK\r\n\r\n",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000437 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000447 arguments"
                                          ],
                                          "enclosed": [
                                            "1000436 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000437 server",
                                            "1000435 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000436 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "method",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "CONNECT",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "path",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1:80",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000436 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "connect",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000449 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000450 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000451 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000448 arguments",
                                                      "1000449 res",
                                                      "1000450 socket",
                                                      "1000451 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000450 socket",
                                                      "1000001 assert",
                                                      "1000437 server",
                                                      "1000435 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000450 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000450 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000453 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000452 arguments",
                                                                "1000453 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000453 chunk",
                                                                "1000450 socket",
                                                                "1000437 server",
                                                                "1000435 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000453 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000450 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000437 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000435 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000436 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": []
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be true after request finishes",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000455 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000454 arguments",
                                  "1000455 done",
                                  "1000456 client",
                                  "1000457 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000457 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000456 client",
                                  "1000455 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000456 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000457 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000459 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000460 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000458 arguments",
                                                "1000459 req",
                                                "1000460 res"
                                              ],
                                              "enclosed": [
                                                "1000460 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000460 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000460 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000457 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "connect",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000462 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000463 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000464 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000461 arguments",
                                            "1000462 req",
                                            "1000463 socket",
                                            "1000464 bodyHead",
                                            "1000465 data"
                                          ],
                                          "enclosed": [
                                            "1000464 bodyHead",
                                            "1000004 onFinished",
                                            "1000462 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000465 data",
                                            "1000463 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000465 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000464 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000462 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000467 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000466 arguments",
                                                      "1000467 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000467 err",
                                                      "1000004 onFinished",
                                                      "1000462 req",
                                                      "1000563 Buffer",
                                                      "1000465 data",
                                                      "1000463 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000467 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ok"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "onFinished",
                                                                  "thedef": "1000004 onFinished"
                                                                },
                                                                "property": "isFinished"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000462 req"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000465 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000463 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 200 OK\r\n\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000463 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000469 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000468 arguments",
                                                      "1000469 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000469 chunk",
                                                      "1000463 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000469 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000463 socket"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "pong",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000462 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000471 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000470 arguments",
                                                      "1000471 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000465 data",
                                                      "1000471 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000465 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000471 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000457 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000472 arguments"
                                          ],
                                          "enclosed": [
                                            "1000456 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000457 server",
                                            "1000455 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000456 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "method",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "CONNECT",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "path",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1:80",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000456 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "connect",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000474 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000475 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000476 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000473 arguments",
                                                      "1000474 res",
                                                      "1000475 socket",
                                                      "1000476 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000475 socket",
                                                      "1000001 assert",
                                                      "1000457 server",
                                                      "1000455 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000475 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000475 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000478 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000477 arguments",
                                                                "1000478 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000478 chunk",
                                                                "1000475 socket",
                                                                "1000457 server",
                                                                "1000455 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000478 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000475 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000457 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000455 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000456 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              },
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "describe",
                    "thedef": "1000558 describe"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "when Upgrade request",
                      "quote": "'"
                    },
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [],
                      "uses_arguments": false,
                      "variables": [
                        "1000479 arguments"
                      ],
                      "enclosed": [
                        "1000559 it",
                        "1000002 http",
                        "1000001 assert",
                        "1000004 onFinished",
                        "1000563 Buffer"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be true immediately",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000481 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000480 arguments",
                                  "1000481 done",
                                  "1000482 client",
                                  "1000483 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000483 server",
                                  "1000001 assert",
                                  "1000004 onFinished",
                                  "1000482 client",
                                  "1000481 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000482 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000483 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000485 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000486 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000484 arguments",
                                                "1000485 req",
                                                "1000486 res"
                                              ],
                                              "enclosed": [
                                                "1000486 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000486 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000486 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000483 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "upgrade",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000488 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000489 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000490 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000487 arguments",
                                            "1000488 req",
                                            "1000489 socket",
                                            "1000490 bodyHead"
                                          ],
                                          "enclosed": [
                                            "1000001 assert",
                                            "1000004 onFinished",
                                            "1000488 req",
                                            "1000490 bodyHead",
                                            "1000489 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "assert",
                                                    "thedef": "1000001 assert"
                                                  },
                                                  "property": "ok"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "onFinished",
                                                        "thedef": "1000004 onFinished"
                                                      },
                                                      "property": "isFinished"
                                                    },
                                                    "args": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "req",
                                                        "thedef": "1000488 req"
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "assert",
                                                    "thedef": "1000001 assert"
                                                  },
                                                  "property": "strictEqual"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "bodyHead",
                                                      "thedef": "1000490 bodyHead"
                                                    },
                                                    "property": "length"
                                                  },
                                                  {
                                                    "_class": "AST_Number",
                                                    "value": 0
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000488 req"
                                                  },
                                                  "property": "resume"
                                                },
                                                "args": []
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000489 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000492 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000491 arguments",
                                                      "1000492 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000492 chunk",
                                                      "1000489 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000492 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000489 socket"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "pong",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000489 socket"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "HTTP/1.1 101 Switching Protocols\r\n",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000489 socket"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Connection: Upgrade\r\n",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000489 socket"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "Upgrade: Raw\r\n",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000489 socket"
                                                  },
                                                  "property": "write"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "\r\n",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000483 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000493 arguments"
                                          ],
                                          "enclosed": [
                                            "1000482 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000483 server",
                                            "1000481 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000482 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "headers",
                                                          "value": {
                                                            "_class": "AST_Object",
                                                            "properties": [
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Connection",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Upgrade",
                                                                  "quote": "'"
                                                                }
                                                              },
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Upgrade",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Raw",
                                                                  "quote": "'"
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000482 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "upgrade",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000495 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000496 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000497 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000494 arguments",
                                                      "1000495 res",
                                                      "1000496 socket",
                                                      "1000497 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000496 socket",
                                                      "1000001 assert",
                                                      "1000483 server",
                                                      "1000481 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000496 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000496 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000499 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000498 arguments",
                                                                "1000499 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000499 chunk",
                                                                "1000496 socket",
                                                                "1000483 server",
                                                                "1000481 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000499 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000496 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000483 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000481 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000482 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": []
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        },
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "it",
                              "thedef": "1000559 it"
                            },
                            "args": [
                              {
                                "_class": "AST_String",
                                "value": "should be true after request finishes",
                                "quote": "'"
                              },
                              {
                                "_class": "AST_Function",
                                "name": null,
                                "argnames": [
                                  {
                                    "_class": "AST_SymbolFunarg",
                                    "name": "done",
                                    "thedef": "1000501 done"
                                  }
                                ],
                                "uses_arguments": false,
                                "variables": [
                                  "1000500 arguments",
                                  "1000501 done",
                                  "1000502 client",
                                  "1000503 server"
                                ],
                                "enclosed": [
                                  "1000002 http",
                                  "1000503 server",
                                  "1000004 onFinished",
                                  "1000001 assert",
                                  "1000563 Buffer",
                                  "1000502 client",
                                  "1000501 done"
                                ],
                                "body": [
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "client",
                                          "thedef": "1000502 client"
                                        },
                                        "value": null
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_Var",
                                    "definitions": [
                                      {
                                        "_class": "AST_VarDef",
                                        "name": {
                                          "_class": "AST_SymbolVar",
                                          "name": "server",
                                          "thedef": "1000503 server"
                                        },
                                        "value": {
                                          "_class": "AST_Call",
                                          "expression": {
                                            "_class": "AST_Dot",
                                            "expression": {
                                              "_class": "AST_SymbolRef",
                                              "name": "http",
                                              "thedef": "1000002 http"
                                            },
                                            "property": "createServer"
                                          },
                                          "args": [
                                            {
                                              "_class": "AST_Function",
                                              "name": null,
                                              "argnames": [
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "req",
                                                  "thedef": "1000505 req"
                                                },
                                                {
                                                  "_class": "AST_SymbolFunarg",
                                                  "name": "res",
                                                  "thedef": "1000506 res"
                                                }
                                              ],
                                              "uses_arguments": false,
                                              "variables": [
                                                "1000504 arguments",
                                                "1000505 req",
                                                "1000506 res"
                                              ],
                                              "enclosed": [
                                                "1000506 res"
                                              ],
                                              "body": [
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Assign",
                                                    "operator": "=",
                                                    "left": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000506 res"
                                                      },
                                                      "property": "statusCode"
                                                    },
                                                    "right": {
                                                      "_class": "AST_Number",
                                                      "value": 405
                                                    }
                                                  }
                                                },
                                                {
                                                  "_class": "AST_SimpleStatement",
                                                  "body": {
                                                    "_class": "AST_Call",
                                                    "expression": {
                                                      "_class": "AST_Dot",
                                                      "expression": {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "res",
                                                        "thedef": "1000506 res"
                                                      },
                                                      "property": "end"
                                                    },
                                                    "args": []
                                                  }
                                                }
                                              ]
                                            }
                                          ]
                                        }
                                      }
                                    ]
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000503 server"
                                        },
                                        "property": "on"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_String",
                                          "value": "upgrade",
                                          "quote": "'"
                                        },
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "req",
                                              "thedef": "1000508 req"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "socket",
                                              "thedef": "1000509 socket"
                                            },
                                            {
                                              "_class": "AST_SymbolFunarg",
                                              "name": "bodyHead",
                                              "thedef": "1000510 bodyHead"
                                            }
                                          ],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000507 arguments",
                                            "1000508 req",
                                            "1000509 socket",
                                            "1000510 bodyHead",
                                            "1000511 data"
                                          ],
                                          "enclosed": [
                                            "1000510 bodyHead",
                                            "1000004 onFinished",
                                            "1000508 req",
                                            "1000001 assert",
                                            "1000563 Buffer",
                                            "1000511 data",
                                            "1000509 socket"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_Var",
                                              "definitions": [
                                                {
                                                  "_class": "AST_VarDef",
                                                  "name": {
                                                    "_class": "AST_SymbolVar",
                                                    "name": "data",
                                                    "thedef": "1000511 data"
                                                  },
                                                  "value": {
                                                    "_class": "AST_Array",
                                                    "elements": [
                                                      {
                                                        "_class": "AST_SymbolRef",
                                                        "name": "bodyHead",
                                                        "thedef": "1000510 bodyHead"
                                                      }
                                                    ]
                                                  }
                                                }
                                              ]
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "onFinished",
                                                  "thedef": "1000004 onFinished"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000508 req"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "err",
                                                        "thedef": "1000513 err"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000512 arguments",
                                                      "1000513 err"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000513 err",
                                                      "1000004 onFinished",
                                                      "1000508 req",
                                                      "1000563 Buffer",
                                                      "1000511 data",
                                                      "1000509 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ifError"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "err",
                                                              "thedef": "1000513 err"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "ok"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "onFinished",
                                                                  "thedef": "1000004 onFinished"
                                                                },
                                                                "property": "isFinished"
                                                              },
                                                              "args": [
                                                                {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "req",
                                                                  "thedef": "1000508 req"
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_Call",
                                                                  "expression": {
                                                                    "_class": "AST_Dot",
                                                                    "expression": {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "Buffer",
                                                                      "thedef": "1000563 Buffer"
                                                                    },
                                                                    "property": "concat"
                                                                  },
                                                                  "args": [
                                                                    {
                                                                      "_class": "AST_SymbolRef",
                                                                      "name": "data",
                                                                      "thedef": "1000511 data"
                                                                    }
                                                                  ]
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "knock, knock",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000509 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "HTTP/1.1 101 Switching Protocols\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000509 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Connection: Upgrade\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000509 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "Upgrade: Raw\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000509 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "\r\n",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "socket",
                                                    "thedef": "1000509 socket"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000515 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000514 arguments",
                                                      "1000515 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000001 assert",
                                                      "1000515 chunk",
                                                      "1000509 socket"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "assert",
                                                              "thedef": "1000001 assert"
                                                            },
                                                            "property": "strictEqual"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_SymbolRef",
                                                                  "name": "chunk",
                                                                  "thedef": "1000515 chunk"
                                                                },
                                                                "property": "toString"
                                                              },
                                                              "args": []
                                                            },
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000509 socket"
                                                            },
                                                            "property": "end"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "pong",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "req",
                                                    "thedef": "1000508 req"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "data",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "chunk",
                                                        "thedef": "1000517 chunk"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000516 arguments",
                                                      "1000517 chunk"
                                                    ],
                                                    "enclosed": [
                                                      "1000511 data",
                                                      "1000517 chunk"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "data",
                                                              "thedef": "1000511 data"
                                                            },
                                                            "property": "push"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "chunk",
                                                              "thedef": "1000517 chunk"
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  },
                                  {
                                    "_class": "AST_SimpleStatement",
                                    "body": {
                                      "_class": "AST_Call",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000503 server"
                                        },
                                        "property": "listen"
                                      },
                                      "args": [
                                        {
                                          "_class": "AST_Function",
                                          "name": null,
                                          "argnames": [],
                                          "uses_arguments": false,
                                          "variables": [
                                            "1000518 arguments"
                                          ],
                                          "enclosed": [
                                            "1000502 client",
                                            "1000002 http",
                                            "1000001 assert",
                                            "1000503 server",
                                            "1000501 done"
                                          ],
                                          "body": [
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Assign",
                                                "operator": "=",
                                                "left": {
                                                  "_class": "AST_SymbolRef",
                                                  "name": "client",
                                                  "thedef": "1000502 client"
                                                },
                                                "right": {
                                                  "_class": "AST_Call",
                                                  "expression": {
                                                    "_class": "AST_Dot",
                                                    "expression": {
                                                      "_class": "AST_SymbolRef",
                                                      "name": "http",
                                                      "thedef": "1000002 http"
                                                    },
                                                    "property": "request"
                                                  },
                                                  "args": [
                                                    {
                                                      "_class": "AST_Object",
                                                      "properties": [
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "headers",
                                                          "value": {
                                                            "_class": "AST_Object",
                                                            "properties": [
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Connection",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Upgrade",
                                                                  "quote": "'"
                                                                }
                                                              },
                                                              {
                                                                "_class": "AST_ObjectKeyVal",
                                                                "quote": "'",
                                                                "key": "Upgrade",
                                                                "value": {
                                                                  "_class": "AST_String",
                                                                  "value": "Raw",
                                                                  "quote": "'"
                                                                }
                                                              }
                                                            ]
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "hostname",
                                                          "value": {
                                                            "_class": "AST_String",
                                                            "value": "127.0.0.1",
                                                            "quote": "'"
                                                          }
                                                        },
                                                        {
                                                          "_class": "AST_ObjectKeyVal",
                                                          "key": "port",
                                                          "value": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_Call",
                                                              "expression": {
                                                                "_class": "AST_Dot",
                                                                "expression": {
                                                                  "_class": "AST_This",
                                                                  "name": "this"
                                                                },
                                                                "property": "address"
                                                              },
                                                              "args": []
                                                            },
                                                            "property": "port"
                                                          }
                                                        }
                                                      ]
                                                    }
                                                  ]
                                                }
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000502 client"
                                                  },
                                                  "property": "on"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "upgrade",
                                                    "quote": "'"
                                                  },
                                                  {
                                                    "_class": "AST_Function",
                                                    "name": null,
                                                    "argnames": [
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "res",
                                                        "thedef": "1000520 res"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "socket",
                                                        "thedef": "1000521 socket"
                                                      },
                                                      {
                                                        "_class": "AST_SymbolFunarg",
                                                        "name": "bodyHead",
                                                        "thedef": "1000522 bodyHead"
                                                      }
                                                    ],
                                                    "uses_arguments": false,
                                                    "variables": [
                                                      "1000519 arguments",
                                                      "1000520 res",
                                                      "1000521 socket",
                                                      "1000522 bodyHead"
                                                    ],
                                                    "enclosed": [
                                                      "1000521 socket",
                                                      "1000001 assert",
                                                      "1000503 server",
                                                      "1000501 done"
                                                    ],
                                                    "body": [
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000521 socket"
                                                            },
                                                            "property": "write"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "ping",
                                                              "quote": "'"
                                                            }
                                                          ]
                                                        }
                                                      },
                                                      {
                                                        "_class": "AST_SimpleStatement",
                                                        "body": {
                                                          "_class": "AST_Call",
                                                          "expression": {
                                                            "_class": "AST_Dot",
                                                            "expression": {
                                                              "_class": "AST_SymbolRef",
                                                              "name": "socket",
                                                              "thedef": "1000521 socket"
                                                            },
                                                            "property": "on"
                                                          },
                                                          "args": [
                                                            {
                                                              "_class": "AST_String",
                                                              "value": "data",
                                                              "quote": "'"
                                                            },
                                                            {
                                                              "_class": "AST_Function",
                                                              "name": null,
                                                              "argnames": [
                                                                {
                                                                  "_class": "AST_SymbolFunarg",
                                                                  "name": "chunk",
                                                                  "thedef": "1000524 chunk"
                                                                }
                                                              ],
                                                              "uses_arguments": false,
                                                              "variables": [
                                                                "1000523 arguments",
                                                                "1000524 chunk"
                                                              ],
                                                              "enclosed": [
                                                                "1000001 assert",
                                                                "1000524 chunk",
                                                                "1000521 socket",
                                                                "1000503 server",
                                                                "1000501 done"
                                                              ],
                                                              "body": [
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "assert",
                                                                        "thedef": "1000001 assert"
                                                                      },
                                                                      "property": "strictEqual"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_Call",
                                                                        "expression": {
                                                                          "_class": "AST_Dot",
                                                                          "expression": {
                                                                            "_class": "AST_SymbolRef",
                                                                            "name": "chunk",
                                                                            "thedef": "1000524 chunk"
                                                                          },
                                                                          "property": "toString"
                                                                        },
                                                                        "args": []
                                                                      },
                                                                      {
                                                                        "_class": "AST_String",
                                                                        "value": "pong",
                                                                        "quote": "'"
                                                                      }
                                                                    ]
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "socket",
                                                                        "thedef": "1000521 socket"
                                                                      },
                                                                      "property": "end"
                                                                    },
                                                                    "args": []
                                                                  }
                                                                },
                                                                {
                                                                  "_class": "AST_SimpleStatement",
                                                                  "body": {
                                                                    "_class": "AST_Call",
                                                                    "expression": {
                                                                      "_class": "AST_Dot",
                                                                      "expression": {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "server",
                                                                        "thedef": "1000503 server"
                                                                      },
                                                                      "property": "close"
                                                                    },
                                                                    "args": [
                                                                      {
                                                                        "_class": "AST_SymbolRef",
                                                                        "name": "done",
                                                                        "thedef": "1000501 done"
                                                                      }
                                                                    ]
                                                                  }
                                                                }
                                                              ]
                                                            }
                                                          ]
                                                        }
                                                      }
                                                    ]
                                                  }
                                                ]
                                              }
                                            },
                                            {
                                              "_class": "AST_SimpleStatement",
                                              "body": {
                                                "_class": "AST_Call",
                                                "expression": {
                                                  "_class": "AST_Dot",
                                                  "expression": {
                                                    "_class": "AST_SymbolRef",
                                                    "name": "client",
                                                    "thedef": "1000502 client"
                                                  },
                                                  "property": "end"
                                                },
                                                "args": [
                                                  {
                                                    "_class": "AST_String",
                                                    "value": "knock, knock",
                                                    "quote": "'"
                                                  }
                                                ]
                                              }
                                            }
                                          ]
                                        }
                                      ]
                                    }
                                  }
                                ]
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        ]
      }
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "captureStderr",
        "thedef": "1000526 captureStderr"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "fn",
          "thedef": "1000527 fn"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000525 arguments",
        "1000527 fn",
        "1000528 chunks",
        "1000529 write"
      ],
      "enclosed": [
        "1000564 process",
        "1000528 chunks",
        "1000563 Buffer",
        "1000527 fn",
        "1000529 write"
      ],
      "body": [
        {
          "_class": "AST_Var",
          "definitions": [
            {
              "_class": "AST_VarDef",
              "name": {
                "_class": "AST_SymbolVar",
                "name": "chunks",
                "thedef": "1000528 chunks"
              },
              "value": {
                "_class": "AST_Array",
                "elements": []
              }
            }
          ]
        },
        {
          "_class": "AST_Var",
          "definitions": [
            {
              "_class": "AST_VarDef",
              "name": {
                "_class": "AST_SymbolVar",
                "name": "write",
                "thedef": "1000529 write"
              },
              "value": {
                "_class": "AST_Dot",
                "expression": {
                  "_class": "AST_Dot",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "process",
                    "thedef": "1000564 process"
                  },
                  "property": "stderr"
                },
                "property": "write"
              }
            }
          ]
        },
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Assign",
            "operator": "=",
            "left": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_Dot",
                "expression": {
                  "_class": "AST_SymbolRef",
                  "name": "process",
                  "thedef": "1000564 process"
                },
                "property": "stderr"
              },
              "property": "write"
            },
            "right": {
              "_class": "AST_Function",
              "name": {
                "_class": "AST_SymbolLambda",
                "name": "write",
                "thedef": "1000531 write"
              },
              "argnames": [
                {
                  "_class": "AST_SymbolFunarg",
                  "name": "chunk",
                  "thedef": "1000532 chunk"
                },
                {
                  "_class": "AST_SymbolFunarg",
                  "name": "encoding",
                  "thedef": "1000533 encoding"
                }
              ],
              "uses_arguments": false,
              "variables": [
                "1000530 arguments",
                "1000531 write",
                "1000532 chunk",
                "1000533 encoding"
              ],
              "functions": [
                "1000531 write"
              ],
              "enclosed": [
                "1000528 chunks",
                "1000563 Buffer",
                "1000532 chunk",
                "1000533 encoding"
              ],
              "body": [
                {
                  "_class": "AST_SimpleStatement",
                  "body": {
                    "_class": "AST_Call",
                    "expression": {
                      "_class": "AST_Dot",
                      "expression": {
                        "_class": "AST_SymbolRef",
                        "name": "chunks",
                        "thedef": "1000528 chunks"
                      },
                      "property": "push"
                    },
                    "args": [
                      {
                        "_class": "AST_New",
                        "expression": {
                          "_class": "AST_SymbolRef",
                          "name": "Buffer",
                          "thedef": "1000563 Buffer"
                        },
                        "args": [
                          {
                            "_class": "AST_SymbolRef",
                            "name": "chunk",
                            "thedef": "1000532 chunk"
                          },
                          {
                            "_class": "AST_SymbolRef",
                            "name": "encoding",
                            "thedef": "1000533 encoding"
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          }
        },
        {
          "_class": "AST_Try",
          "bcatch": null,
          "bfinally": {
            "_class": "AST_Finally",
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Assign",
                  "operator": "=",
                  "left": {
                    "_class": "AST_Dot",
                    "expression": {
                      "_class": "AST_Dot",
                      "expression": {
                        "_class": "AST_SymbolRef",
                        "name": "process",
                        "thedef": "1000564 process"
                      },
                      "property": "stderr"
                    },
                    "property": "write"
                  },
                  "right": {
                    "_class": "AST_SymbolRef",
                    "name": "write",
                    "thedef": "1000529 write"
                  }
                }
              }
            ]
          },
          "body": [
            {
              "_class": "AST_SimpleStatement",
              "body": {
                "_class": "AST_Call",
                "expression": {
                  "_class": "AST_SymbolRef",
                  "name": "fn",
                  "thedef": "1000527 fn"
                },
                "args": []
              }
            }
          ]
        },
        {
          "_class": "AST_Return",
          "value": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_Call",
                "expression": {
                  "_class": "AST_Dot",
                  "expression": {
                    "_class": "AST_SymbolRef",
                    "name": "Buffer",
                    "thedef": "1000563 Buffer"
                  },
                  "property": "concat"
                },
                "args": [
                  {
                    "_class": "AST_SymbolRef",
                    "name": "chunks",
                    "thedef": "1000528 chunks"
                  }
                ]
              },
              "property": "toString"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "utf8",
                "quote": "'"
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "close",
        "thedef": "1000535 close"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "server",
          "thedef": "1000536 server"
        },
        {
          "_class": "AST_SymbolFunarg",
          "name": "callback",
          "thedef": "1000537 callback"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000534 arguments",
        "1000536 server",
        "1000537 callback"
      ],
      "enclosed": [
        "1000536 server",
        "1000537 callback"
      ],
      "body": [
        {
          "_class": "AST_Return",
          "value": {
            "_class": "AST_Function",
            "name": null,
            "argnames": [
              {
                "_class": "AST_SymbolFunarg",
                "name": "error",
                "thedef": "1000539 error"
              }
            ],
            "uses_arguments": false,
            "variables": [
              "1000538 arguments",
              "1000539 error"
            ],
            "enclosed": [
              "1000536 server",
              "1000537 callback",
              "1000539 error"
            ],
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_Dot",
                    "expression": {
                      "_class": "AST_SymbolRef",
                      "name": "server",
                      "thedef": "1000536 server"
                    },
                    "property": "close"
                  },
                  "args": [
                    {
                      "_class": "AST_Function",
                      "name": null,
                      "argnames": [
                        {
                          "_class": "AST_SymbolFunarg",
                          "name": "err",
                          "thedef": "1000541 err"
                        }
                      ],
                      "uses_arguments": false,
                      "variables": [
                        "1000540 arguments",
                        "1000541 err"
                      ],
                      "enclosed": [
                        "1000537 callback",
                        "1000539 error",
                        "1000541 err"
                      ],
                      "body": [
                        {
                          "_class": "AST_SimpleStatement",
                          "body": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_SymbolRef",
                              "name": "callback",
                              "thedef": "1000537 callback"
                            },
                            "args": [
                              {
                                "_class": "AST_Binary",
                                "operator": "||",
                                "left": {
                                  "_class": "AST_SymbolRef",
                                  "name": "error",
                                  "thedef": "1000539 error"
                                },
                                "right": {
                                  "_class": "AST_SymbolRef",
                                  "name": "err",
                                  "thedef": "1000541 err"
                                }
                              }
                            ]
                          }
                        }
                      ]
                    }
                  ]
                }
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "noop",
        "thedef": "1000543 noop"
      },
      "argnames": [],
      "uses_arguments": false,
      "variables": [
        "1000542 arguments"
      ],
      "body": []
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "sendGet",
        "thedef": "1000545 sendGet"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "server",
          "thedef": "1000546 server"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000544 arguments",
        "1000546 server"
      ],
      "enclosed": [
        "1000546 server",
        "1000002 http"
      ],
      "body": [
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "server",
                "thedef": "1000546 server"
              },
              "property": "listen"
            },
            "args": [
              {
                "_class": "AST_Function",
                "name": {
                  "_class": "AST_SymbolLambda",
                  "name": "onListening",
                  "thedef": "1000548 onListening"
                },
                "argnames": [],
                "uses_arguments": false,
                "variables": [
                  "1000547 arguments",
                  "1000548 onListening",
                  "1000549 port"
                ],
                "functions": [
                  "1000548 onListening"
                ],
                "enclosed": [
                  "1000002 http",
                  "1000549 port",
                  "1000546 server"
                ],
                "body": [
                  {
                    "_class": "AST_Var",
                    "definitions": [
                      {
                        "_class": "AST_VarDef",
                        "name": {
                          "_class": "AST_SymbolVar",
                          "name": "port",
                          "thedef": "1000549 port"
                        },
                        "value": {
                          "_class": "AST_Dot",
                          "expression": {
                            "_class": "AST_Call",
                            "expression": {
                              "_class": "AST_Dot",
                              "expression": {
                                "_class": "AST_This",
                                "name": "this"
                              },
                              "property": "address"
                            },
                            "args": []
                          },
                          "property": "port"
                        }
                      }
                    ]
                  },
                  {
                    "_class": "AST_SimpleStatement",
                    "body": {
                      "_class": "AST_Call",
                      "expression": {
                        "_class": "AST_Dot",
                        "expression": {
                          "_class": "AST_SymbolRef",
                          "name": "http",
                          "thedef": "1000002 http"
                        },
                        "property": "get"
                      },
                      "args": [
                        {
                          "_class": "AST_Binary",
                          "operator": "+",
                          "left": {
                            "_class": "AST_String",
                            "value": "http://127.0.0.1:",
                            "quote": "'"
                          },
                          "right": {
                            "_class": "AST_SymbolRef",
                            "name": "port",
                            "thedef": "1000549 port"
                          }
                        },
                        {
                          "_class": "AST_Function",
                          "name": {
                            "_class": "AST_SymbolLambda",
                            "name": "onResponse",
                            "thedef": "1000551 onResponse"
                          },
                          "argnames": [
                            {
                              "_class": "AST_SymbolFunarg",
                              "name": "res",
                              "thedef": "1000552 res"
                            }
                          ],
                          "uses_arguments": false,
                          "variables": [
                            "1000550 arguments",
                            "1000551 onResponse",
                            "1000552 res"
                          ],
                          "functions": [
                            "1000551 onResponse"
                          ],
                          "enclosed": [
                            "1000552 res",
                            "1000546 server"
                          ],
                          "body": [
                            {
                              "_class": "AST_SimpleStatement",
                              "body": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "res",
                                    "thedef": "1000552 res"
                                  },
                                  "property": "resume"
                                },
                                "args": []
                              }
                            },
                            {
                              "_class": "AST_SimpleStatement",
                              "body": {
                                "_class": "AST_Call",
                                "expression": {
                                  "_class": "AST_Dot",
                                  "expression": {
                                    "_class": "AST_SymbolRef",
                                    "name": "res",
                                    "thedef": "1000552 res"
                                  },
                                  "property": "on"
                                },
                                "args": [
                                  {
                                    "_class": "AST_String",
                                    "value": "end",
                                    "quote": "'"
                                  },
                                  {
                                    "_class": "AST_Call",
                                    "expression": {
                                      "_class": "AST_Dot",
                                      "expression": {
                                        "_class": "AST_Dot",
                                        "expression": {
                                          "_class": "AST_SymbolRef",
                                          "name": "server",
                                          "thedef": "1000546 server"
                                        },
                                        "property": "close"
                                      },
                                      "property": "bind"
                                    },
                                    "args": [
                                      {
                                        "_class": "AST_SymbolRef",
                                        "name": "server",
                                        "thedef": "1000546 server"
                                      }
                                    ]
                                  }
                                ]
                              }
                            }
                          ]
                        }
                      ]
                    }
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    {
      "_class": "AST_Defun",
      "name": {
        "_class": "AST_SymbolDefun",
        "name": "writeRequest",
        "thedef": "1000554 writeRequest"
      },
      "argnames": [
        {
          "_class": "AST_SymbolFunarg",
          "name": "socket",
          "thedef": "1000555 socket"
        },
        {
          "_class": "AST_SymbolFunarg",
          "name": "chunked",
          "thedef": "1000556 chunked"
        }
      ],
      "uses_arguments": false,
      "variables": [
        "1000553 arguments",
        "1000555 socket",
        "1000556 chunked"
      ],
      "enclosed": [
        "1000555 socket",
        "1000556 chunked"
      ],
      "body": [
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "socket",
                "thedef": "1000555 socket"
              },
              "property": "write"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "GET / HTTP/1.1\r\n",
                "quote": "'"
              }
            ]
          }
        },
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "socket",
                "thedef": "1000555 socket"
              },
              "property": "write"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "Host: localhost\r\n",
                "quote": "'"
              }
            ]
          }
        },
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "socket",
                "thedef": "1000555 socket"
              },
              "property": "write"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "Connection: keep-alive\r\n",
                "quote": "'"
              }
            ]
          }
        },
        {
          "_class": "AST_If",
          "condition": {
            "_class": "AST_SymbolRef",
            "name": "chunked",
            "thedef": "1000556 chunked"
          },
          "alternative": null,
          "body": {
            "_class": "AST_BlockStatement",
            "body": [
              {
                "_class": "AST_SimpleStatement",
                "body": {
                  "_class": "AST_Call",
                  "expression": {
                    "_class": "AST_Dot",
                    "expression": {
                      "_class": "AST_SymbolRef",
                      "name": "socket",
                      "thedef": "1000555 socket"
                    },
                    "property": "write"
                  },
                  "args": [
                    {
                      "_class": "AST_String",
                      "value": "Transfer-Encoding: chunked\r\n",
                      "quote": "'"
                    }
                  ]
                }
              }
            ]
          }
        },
        {
          "_class": "AST_SimpleStatement",
          "body": {
            "_class": "AST_Call",
            "expression": {
              "_class": "AST_Dot",
              "expression": {
                "_class": "AST_SymbolRef",
                "name": "socket",
                "thedef": "1000555 socket"
              },
              "property": "write"
            },
            "args": [
              {
                "_class": "AST_String",
                "value": "\r\n",
                "quote": "'"
              }
            ]
          }
        }
      ]
    }
  ]
}
