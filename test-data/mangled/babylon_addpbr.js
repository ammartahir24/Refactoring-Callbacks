"use strict";var preparePBR=function(){var r=new BABYLON.PBRMaterial("pbr",scene);r.albedoTexture=new BABYLON.Texture("/Playground/textures/amiga.jpg",scene);r.albedoTexture.uScale=5;r.albedoTexture.vScale=5;var e=new BABYLON.HDRCubeTexture("/Playground/textures/environment.hdr",scene,512);r.reflectionTexture=e;r.refractionTexture=e;r.linkRefractionWithTransparency=true;r.indexOfRefraction=.52;var t=new BABYLON.Texture("/Playground/textures/colorGrade.png",scene,true);r.cameraColorGradingTexture=t;r.colorGradingEnabled=true;r.reflectivityColor=new BABYLON.Color3(.3,.3,.3);r.microSurface=.9;var n=BABYLON.Mesh.CreateBox("hdrSkyBox",1e3,scene);var o=new BABYLON.PBRMaterial("skyBox",scene);o.backFaceCulling=false;o.reflectionTexture=e.clone();o.reflectionTexture.coordinatesMode=BABYLON.Texture.SKYBOX_MODE;o.microSurface=1;o.specularColor=new BABYLON.Color3(1,1,1);o.disableLighting=true;o.cameraExposure=.6;o.cameraContrast=1.6;o.directIntensity=0;n.material=o;n.infiniteDistance=true;n.setEnabled(false);registerButtonUI("pbr","Default",function(){setRangeValues({directIntensity:1,emissiveIntensity:1,environmentIntensity:1,specularIntensity:1,ShadowIntensity:1,ShadeIntensity:1,cameraExposure:1,cameraContrast:1,microSurface:.9,reflectivityColorR:.3,reflectivityColorG:.3,reflectivityColorB:.3,albedoColorR:1,albedoColorG:1,albedoColorB:1,albedoColorLevel:0})});registerButtonUI("pbr","Env Irradiance",function(){setRangeValues({directIntensity:0,emissiveIntensity:1,environmentIntensity:1,specularIntensity:1,ShadowIntensity:1,ShadeIntensity:1,cameraExposure:1,cameraContrast:1,microSurface:0,reflectivityColorR:0,reflectivityColorG:0,reflectivityColorB:0,albedoColorR:1,albedoColorG:1,albedoColorB:1,albedoColorLevel:1});n.setEnabled(true)});registerButtonUI("pbr","Rough Gold",function(){setRangeValues({directIntensity:1.3439461727881254,emissiveIntensity:1,environmentIntensity:.3685013699580344,specularIntensity:1,ShadowIntensity:1,ShadeIntensity:1,cameraExposure:.7153261887420668,cameraContrast:1.6474178892241538,microSurface:.42269274789303946,reflectivityColorR:1,reflectivityColorG:.8453854957860789,reflectivityColorB:.5093989525890475,albedoColorR:0,albedoColorG:0,albedoColorB:0,albedoColorLevel:1})});registerButtonUI("pbr","Plastic",function(){setRangeValues({directIntensity:.9971213540040931,emissiveIntensity:1,environmentIntensity:.3685013699580344,specularIntensity:1,ShadowIntensity:.975444802830091,ShadeIntensity:.8020323934380749,cameraExposure:.7586792910900708,cameraContrast:1.5823882357021477,microSurface:.8562237713730799,reflectivityColorR:.05,reflectivityColorG:.05,reflectivityColorB:.05,albedoColorR:.20592723615301922,albedoColorG:.942929976069088,albedoColorB:1,albedoColorLevel:1})});registerRangeUI("pbr","alpha",0,1,function(e){r.alpha=e},function(){return r.alpha});registerRangeUI("pbr","directIntensity",0,2,function(e){r.directIntensity=e},function(){return r.directIntensity});registerRangeUI("pbr","emissiveIntensity",0,2,function(e){r.emissiveIntensity=e},function(){return r.emissiveIntensity});registerRangeUI("pbr","environmentIntensity",0,2,function(e){r.environmentIntensity=e},function(){return r.environmentIntensity});registerRangeUI("pbr","specularIntensity",0,2,function(e){r.specularIntensity=e},function(){return r.specularIntensity});registerRangeUI("pbr","cameraExposure",0,2,function(e){r.cameraExposure=e},function(){return r.cameraExposure});registerRangeUI("pbr","cameraContrast",0,2,function(e){r.cameraContrast=e},function(){return r.cameraContrast});registerRangeUI("pbr","microSurface",0,1,function(e){r.microSurface=e},function(){return r.microSurface});registerRangeUI("pbr","reflectivityColorR",0,1,function(e){r.reflectivityColor.r=e},function(){return r.reflectivityColor.r});registerRangeUI("pbr","reflectivityColorG",0,1,function(e){r.reflectivityColor.g=e},function(){return r.reflectivityColor.g});registerRangeUI("pbr","reflectivityColorB",0,1,function(e){r.reflectivityColor.b=e},function(){return r.reflectivityColor.b});registerRangeUI("pbr","albedoColorR",0,1,function(e){r.albedoColor.r=e},function(){return r.albedoColor.r});registerRangeUI("pbr","albedoColorG",0,1,function(e){r.albedoColor.g=e},function(){return r.albedoColor.g});registerRangeUI("pbr","albedoColorB",0,1,function(e){r.albedoColor.b=e},function(){return r.albedoColor.b});registerRangeUI("pbr","albedoColorLevel",0,1,function(e){r.albedoTexture.level=e},function(){return r.albedoTexture.level});registerButtonUI("pbr","Toggle Skybox",function(){n.setEnabled(!n.isEnabled())});registerButtonUI("pbr","Color Grading",function(){r.cameraColorGradingTexture=r.cameraColorGradingTexture?null:colorGradingTexture});return r};
