define(["./core","./core/toType","./var/rnothtmlwhite"],function(h,l,t){"use strict";function a(n){var i={};h.each(n.match(t)||[],function(n,t){i[t]=true});return i}h.Callbacks=function(e){e=typeof e==="string"?a(e):h.extend({},e);var i,n,t,r,f=[],u=[],c=-1,o=function(){r=r||e.once;t=i=true;for(;u.length;c=-1){n=u.shift();while(++c<f.length){if(f[c].apply(n[0],n[1])===false&&e.stopOnFalse){c=f.length;n=false}}}if(!e.memory){n=false}i=false;if(r){if(n){f=[]}else{f=""}}},s={add:function(){if(f){if(n&&!i){c=f.length-1;u.push(n)}(function i(n){h.each(n,function(n,t){if(typeof t==="function"){if(!e.unique||!s.has(t)){f.push(t)}}else if(t&&t.length&&l(t)!=="string"){i(t)}})})(arguments);if(n&&!i){o()}}return this},remove:function(){h.each(arguments,function(n,t){var i;while((i=h.inArray(t,f,i))>-1){f.splice(i,1);if(i<=c){c--}}});return this},has:function(n){return n?h.inArray(n,f)>-1:f.length>0},empty:function(){if(f){f=[]}return this},disable:function(){r=u=[];f=n="";return this},disabled:function(){return!f},lock:function(){r=u=[];if(!n&&!i){f=n=""}return this},locked:function(){return!!r},fireWith:function(n,t){if(!r){t=t||[];t=[n,t.slice?t.slice():t];u.push(t);if(!i){o()}}return this},fire:function(){s.fireWith(this,arguments);return this},fired:function(){return!!t}};return s};return h});
